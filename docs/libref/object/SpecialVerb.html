<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>SpecialVerb</title></head><body>
<table class=ban><tr><td align=left><span class=title>SpecialVerb</span><span class=type>class</span><td align=right><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5845">5845</a>], <a href="../file/english.t.html">english.t</a>[<a href="../source/english.t.html#6337">6337</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   A SpecialVerb allows us to define grammar for verbs applying to only a handful of objects in   our game, where we want the rarely used command to be translated into a common one, e.g. RIMG   BELL -&gt; PUSH BELL, which we could implement as: <p> <br> SpecialVerb 'ring' 'push' @doorbell 
<p>
<code>class 
<b>SpecialVerb</b> :  &nbsp; object</code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>SpecialVerb</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#articles">articles</a>&nbsp; 
<a href="#during">during</a>&nbsp; 
<a href="#exclusions">exclusions</a>&nbsp; 
<a href="#matchObjs">matchObjs</a>&nbsp; 
<a href="#prepositions">prepositions</a>&nbsp; 
<a href="#priority">priority</a>&nbsp; 
<a href="#score">score</a>&nbsp; 
<a href="#specVerb">specVerb</a>&nbsp; 
<a href="#stdVerb">stdVerb</a>&nbsp; 
<a href="#tentativeDobj">tentativeDobj</a>&nbsp; 
<a href="#tentativeDobjList">tentativeDobjList</a>&nbsp; 
<a href="#verbPhrase">verbPhrase</a>&nbsp; 
<a href="#when">when</a>&nbsp; 
<a href="#where">where</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#checkSV">checkSV</a>&nbsp; 
<a href="#customChecks">customChecks</a>&nbsp; 
<a href="#failCheck">failCheck</a>&nbsp; 
<a href="#initSpec">initSpec</a>&nbsp; 
<a href="#matches">matches</a>&nbsp; 
<a href="#matchExclusions">matchExclusions</a>&nbsp; 
<a href="#objAfterChecks">objAfterChecks</a>&nbsp; 
<a href="#objChecks">objChecks</a>&nbsp; 
<a href="#showFailureMsg">showFailureMsg</a>&nbsp; 
<a href="#vocabCheck">vocabCheck</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="articles"></a>
<table class=decl><tr><td><code>articles</code><td align=right><code><a href="../file/english.t.html">english.t</a>[<a href="../source/english.t.html#6345">6345</a>]</table><div class=desc>a list of articles we want the SpecialVerb to ignore when matching vocab.<p>
</div>
<a name="during"></a>
<table class=decl><tr><td><code>during</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5872">5872</a>]</table><div class=desc>A Scene or list of Scenes that must be happening for this SpecialVerb to apply.<p>
</div>
<a name="exclusions"></a>
<table class=decl><tr><td><code>exclusions</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6186">6186</a>]</table><div class=desc>Verb phrases we want to exclude from matching, e.g. 'pick up' if our specVerb is 'pick'<p>
</div>
<a name="matchObjs"></a>
<table class=decl><tr><td><code>matchObjs</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5863">5863</a>]</table><div class=desc>   The object ot objects we want this SpecialVerb to apply to. This can be a single object or   class or list of objecta and/or classes, but it should result only in a small number of   matches. <p>
</div>
<a name="prepositions"></a>
<table class=decl><tr><td><code>prepositions</code><td align=right><code><a href="../file/english.t.html">english.t</a>[<a href="../source/english.t.html#6342">6342</a>]</table><div class=desc>   A list of prepositions we want SpecialVerb to check for when detecting the possible end of   a noun phrase. <p>
</div>
<a name="priority"></a>
<table class=decl><tr><td><code>priority</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5899">5899</a>]</table><div class=desc>   The priority we want to assign this SpecialVerb if the library needs to break a tie between   two or more SpecialVerbs that might otherwise be matched after all other conditions have   been applied. The default is 100. Other things being equal, the SpecialVerb with the   higher/highest priority will be matched. <p>
</div>
<a name="score"></a>
<table class=decl><tr><td><code>score</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6183">6183</a>]</table><div class=desc>Our adjusted priority after attempting a match.<p>
</div>
<a name="specVerb"></a>
<table class=decl><tr><td><code>specVerb</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5850">5850</a>]</table><div class=desc>   The word or words this SpecialVerb should match, e.g. 'ring'. Different forms can be listed   separated by a vertical bar, e.g. 'cross|go across|walk across' <p>
</div>
<a name="stdVerb"></a>
<table class=decl><tr><td><code>stdVerb</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5856">5856</a>]</table><div class=desc>   The verb words needed to trigger the action we want this SpecialVerb to perform, e.g.   'push' or 'go through' <p>
</div>
<a name="tentativeDobj"></a>
<table class=decl><tr><td><code>tentativeDobj</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5905">5905</a>]</table><div class=desc>   Our best guess at the direct object of the command this SpecialVerb will match before the   objects of the command have been fully resolved. <p>
</div>
<a name="tentativeDobjList"></a>
<table class=decl><tr><td><code>tentativeDobjList</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5912">5912</a>]</table><div class=desc>   A list of the possible tentative direct objects of the command this SpecialVerb eill match   before the objecs of the command have been fully resolved. This will be all the objects in   scope that match our matchObjs property and the noun phrase the player apparently entered. <p>
</div>
<a name="verbPhrase"></a>
<table class=decl><tr><td><code>verbPhrase</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5916">5916</a>]</table><div class=desc>The verb phrase that's been matched to invoke this SpecialVerb.<p>
</div>
<a name="when"></a>
<table class=decl><tr><td><code>when</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5880">5880</a>]</table><div class=desc>   A condition that must be true for this SpecialVerb to apply. This cannot refer to the   objects involved in the command (e.g. dobj or iobj) since these won't be known the first   time the when condition is tested. For conditions involving the dobj, iobj, or aobj of a   the current command, use objCheck() instead. <p>
</div>
<a name="where"></a>
<table class=decl><tr><td><code>where</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5869">5869</a>]</table><div class=desc>   A Room, Region or list of Rooms and/or Regions where this SpecialVerb is applicable. Note   we'd very rarely need to specficy this since SpecialVerb already makes scope checks. <p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="checkSV"></a>
<table class=decl><tr><td><code>checkSV (lst, svPhrase)</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5926">5926</a>]</table><div class=desc>   This method is called once the command has been resolved and we kmow the objects involved   in it. lst is a list containing the action followed by the objects involved in the action,   e.g. [action, dobj]. svPhrase is the special verb phrase that's been translated into   another action, e.g. 'ring' or 'walk across' <p>
</div>
<a name="customChecks"></a>
<table class=decl><tr><td><code>customChecks (lst?)</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6117">6117</a>]</table><div class=desc>   This method is called twice, first when the specialVerbMgr is seeking the best SpecialVerb   option to match, and the second once the objects of the revised command have been   identified and the command is about to be executed. The first time round the lst parameter   won't be supplied (so will be effectively nil); the second time it will be a list   containing the action and its objects. The customChecks() method uses this simply to   determine at which stage its being invoked. The first time its being asked to adjust the   match score; the second time its being asked to check whether or not the proposeed action   should be allowed to proceed. <p>
</div>
<a name="failCheck"></a>
<table class=decl><tr><td><code>failCheck (svPhrase)</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5946">5946</a>]</table><div class=desc>   Display a messsage saying the command can't proceed and then stop it in its tracks.   svPhrase is the command we matched, e.g. 'ring' or 'walk over'. <p>
</div>
<a name="initSpec"></a>
<table class=decl><tr><td><code>initSpec ( )</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5962">5962</a>]</table><div class=desc>Initialise (in fact preinitialize) this SpecialVerb<p>
</div>
<a name="matches"></a>
<table class=decl><tr><td><code>matches (scope_, toks)</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6007">6007</a>]</table><div class=desc>Check whether this SpecialVerb matches its conditions.<p>
</div>
<a name="matchExclusions"></a>
<table class=decl><tr><td><code>matchExclusions (tokWords)</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6189">6189</a>]</table><div class=desc>Check whether the command entered by the player matches an item in our exclusions list.<p>
</div>
<a name="objAfterChecks"></a>
<table class=decl><tr><td><code>objAfterChecks (lst)</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6172">6172</a>]</table><div class=desc>Checks involving the objects of the commmand, once we know them<p>
</div>
<a name="objChecks"></a>
<table class=decl><tr><td><code>objChecks (dobj, iobj, aobj)</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5888">5888</a>]</table><div class=desc>   A check that can be applied once the objects involved in the command are known, (e.g. to   check whether dobj.isOpen). The method can return nil to reject the command at this stage,   or else display a message to explain why it can't go ahead and then use abort to stop it.   It's unlikely that this will be needed often. <p>
</div>
<a name="showFailureMsg"></a>
<table class=decl><tr><td><code>showFailureMsg (svPhrase)</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#5956">5956</a>]</table><div class=desc>Display our failure message. By default this is "You can't &lt;&lt;svPhrase&gt;&gt; that.<p>
</div>
<a name="vocabCheck"></a>
<table class=decl><tr><td><code>vocabCheck (scope_, toks)</code><td align=right><code><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6024">6024</a>]</table><div class=desc>   Check how well any objects in soope that match our matchObjs also match the noun phrase we   think the player entered. <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 26/02/2025 from adv3Lite version 2.2</div>
</body>
</html>
