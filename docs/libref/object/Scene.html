<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>Scene</title></head><body>
<table class=ban><tr><td align=left><span class=title>Scene</span><span class=type>class</span><td align=right><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#157">157</a>], <a href="../file/scenetopic.t.html">scenetopic.t</a>[<a href="../source/scenetopic.t.html#7">7</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   A Scene is an object that represents a slice of time that starts and ends according to   specified conditions, and which can define what happens when it starts and ends and also what   happens each turn when it is happening. 
<p><i>Modified in <a href="../file/scenetopic.t.html">scenetopic.t</a>[<a href="../source/scenetopic.t.html#7">7</a>]:</i><br>
Modifications to Scene for the SCENETOPIC EXTENSION
<p>
<code>class 
<b>Scene</b> :  &nbsp; object</code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>Scene</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#endedAt">endedAt</a>&nbsp; 
<a href="#endsWhen">endsWhen</a>&nbsp; 
<a href="#hasHappened">hasHappened</a>&nbsp; 
<a href="#howEnded">howEnded</a>&nbsp; 
<a href="#isActive">isActive</a>&nbsp; 
<a href="#isHappening">isHappening</a>&nbsp; 
<a href="#notifySingleActor">notifySingleActor</a>&nbsp; 
<a href="#recurring">recurring</a>&nbsp; 
<a href="#startedAt">startedAt</a>&nbsp; 
<a href="#startsWhen">startsWhen</a>&nbsp; 
<a href="#timesHappened">timesHappened</a>&nbsp; 
<a href="#turnsActive">turnsActive</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#afterAction">afterAction</a>&nbsp; 
<a href="#beforeAction">beforeAction</a>&nbsp; 
<a href="#eachTurn">eachTurn</a>&nbsp; 
<a href="#end">end</a>&nbsp; 
<a href="#notifyActors">notifyActors</a>&nbsp; 
<a href="#preAction">preAction</a>&nbsp; 
<a href="#start">start</a>&nbsp; 
<a href="#tryPreAction">tryPreAction</a>&nbsp; 
<a href="#whenEnding">whenEnding</a>&nbsp; 
<a href="#whenStarting">whenStarting</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="endedAt"></a>
<table class=decl><tr><td><code>endedAt</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#193">193</a>]</table><div class=desc>The turn this scene ended at<p>
</div>
<a name="endsWhen"></a>
<table class=decl><tr><td><code>endsWhen</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#168">168</a>]</table><div class=desc>   an expression or method that evaluates to something other than nil when you want the scene   to end <p>
</div>
<a name="hasHappened"></a>
<table class=decl><tr><td><code>hasHappened</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#249">249</a>]</table><div class=desc>Flag to show whether this scene has ever happened.<p>
</div>
<a name="howEnded"></a>
<table class=decl><tr><td><code>howEnded</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#255">255</a>]</table><div class=desc>A user defined flag showing how the scene ended<p>
</div>
<a name="isActive"></a>
<table class=decl><tr><td><code>isActive</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#187">187</a>]</table><div class=desc>   Is this scene currently taking place? (Game code should treat this as   read-only). We provide isActive as a read-only synonym of isHappening in   case game code uses it on analogy with several other adv3Lite entities   that do use an isActive property <p>
</div>
<a name="isHappening"></a>
<table class=decl><tr><td><code>isHappening</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#179">179</a>]</table><div class=desc>   Is this scene currently taking place? (Game code should treat this as read-only) <p>
</div>
<a name="notifySingleActor"></a>
<table class=decl><tr><td><code>notifySingleActor</code><td align=right><code><a href="../file/scenetopic.t.html">scenetopic.t</a>[<a href="../source/scenetopic.t.html#73">73</a>]</table><div class=desc>   Flag (for use with SceneTopic extension): do we want to trigger a   SceneTopic response from every actor the player char can talk to, or   only the first one we find? By default we assume we want a response   from only one actor. Note that the Actor notificationOrder property can   be defined so that we can select which Actor this will be (the one with   the lowest notificationOrder). [SCENETOPIC EXTENSION] <p>
</div>
<a name="recurring"></a>
<table class=decl><tr><td><code>recurring</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#174">174</a>]</table><div class=desc>   Normally a scene will only occur once. Set recurring to true if you want the scene to start   again every time its startsWhen condition is true. <p>
</div>
<a name="startedAt"></a>
<table class=decl><tr><td><code>startedAt</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#190">190</a>]</table><div class=desc>The turn this scene started at<p>
</div>
<a name="startsWhen"></a>
<table class=decl><tr><td><code>startsWhen</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#162">162</a>]</table><div class=desc>   An expression or method that evaluates to true when you want the scene to start <p>
</div>
<a name="timesHappened"></a>
<table class=decl><tr><td><code>timesHappened</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#252">252</a>]</table><div class=desc>The numbter of times this scene has happened.<p>
</div>
<a name="turnsActive"></a>
<table class=decl><tr><td><code>turnsActive</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#272">272</a>]</table><div class=desc>   The number of turms this Scene has been active. Is this Scene is not happening, return -1. <p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="afterAction"></a>
<table class=decl><tr><td><code>afterAction ( )</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#267">267</a>]</table><div class=desc>   This method is called on every active Scene just after an action has   taken place. By default we do nothing here. <p>
</div>
<a name="beforeAction"></a>
<table class=decl><tr><td><code>beforeAction ( )</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#261">261</a>]</table><div class=desc>   This method is called on every active Scene just before an action is   about to take place. By default we do nothing here. <p>
</div>
<a name="eachTurn"></a>
<table class=decl><tr><td><code>eachTurn ( )</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#246">246</a>]</table><div class=desc>Routine to execute every turn this scene is in progress.<p>
</div>
<a name="end"></a>
<table class=decl><tr><td><code>end ( )</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#218">218</a>], <a href="../file/scenetopic.t.html">scenetopic.t</a>[<a href="../source/scenetopic.t.html#11">11</a>]</table><div class=desc>   The method executed when this Scene ends. Game code should normally   override whenStarting() rather than this method. <p>
<p><i>Modified in <a href="../file/scenetopic.t.html">scenetopic.t</a>[<a href="../source/scenetopic.t.html#11">11</a>]:</i><br>
 Modified for SceneTopic Extension to notify any actor that we can talk to that this scene has ended. <p>
</div>
<a name="notifyActors"></a>
<table class=decl><tr><td><code>notifyActors (prop)</code><td align=right><code><a href="../file/scenetopic.t.html">scenetopic.t</a>[<a href="../source/scenetopic.t.html#32">32</a>]</table><div class=desc>Notify any actor that we can talk to that this scene has started<p>
</div>
<a name="preAction"></a>
<table class=decl><tr><td><code>preAction (lst)</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#283">283</a>]</table><div class=desc>   This method is called on each active scene before any Doers and can be used to   conditionally rule out the action (by using abort or exit), for example if the player is   character is tied up or otherwise incapacitated during the Scene. The lst parameter   contains a list in the form [action, dobj, iobj] (or just [action] for an IAction or just   [action, dobj]) and should be used to determine what the proposed action is. <p>
</div>
<a name="start"></a>
<table class=decl><tr><td><code>start ( )</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#199">199</a>], <a href="../file/scenetopic.t.html">scenetopic.t</a>[<a href="../source/scenetopic.t.html#23">23</a>]</table><div class=desc>   The method executed when this Scene starts. Game code should normally   override whenStarting() rather than this method. <p>
<p><i>Modified in <a href="../file/scenetopic.t.html">scenetopic.t</a>[<a href="../source/scenetopic.t.html#23">23</a>]:</i><br>
 Modified for SceneTopic Extension to notify any actor that we can talk to that this scene has started. <p>
</div>
<a name="tryPreAction"></a>
<table class=decl><tr><td><code>tryPreAction (lst)</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#289">289</a>]</table><div class=desc>   Service method usede internally on the library to ensure that preAction() is called only on   currently active scenes. <p>
</div>
<a name="whenEnding"></a>
<table class=decl><tr><td><code>whenEnding ( )</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#243">243</a>]</table><div class=desc>Routine to execute when this scene ends<p>
</div>
<a name="whenStarting"></a>
<table class=decl><tr><td><code>whenStarting ( )</code><td align=right><code><a href="../file/scene.t.html">scene.t</a>[<a href="../source/scene.t.html#240">240</a>]</table><div class=desc>Routine to execute when this scene starts<p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 20/10/2025 from adv3Lite version 2.2.1.1</div>
</body>
</html>
