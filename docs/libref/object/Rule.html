<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>Rule</title></head><body>
<table class=ban><tr><td align=left><span class=title>Rule</span><span class=type>class</span><td align=right><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#177">177</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   A Rule is an object that defines a set of conditions that need to be met   for it to be executed when its RuleBook is run and a method that's executed   when its conditions are met. A Rule can be associated with one or more   RuleBooks; it starts out in the RuleBook with which it is associated via   its + property (i.e. its location). [DEFINED IN RULES EXTENSION] 
<p>
<code>class 
<b>Rule</b> :  &nbsp; object</code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>Rule</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<code><b>Rule</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/AfterRule.html">AfterRule</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/BeforeRule.html">BeforeRule</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/InitRule.html">InitRule</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/PreinitRule.html">PreinitRule</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/ReportRule.html">ReportRule</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/TurnEndRule.html">TurnEndRule</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/TurnStartRule.html">TurnStartRule</a></code><br>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#action">action</a>&nbsp; 
<a href="#actor">actor</a>&nbsp; 
<a href="#aobj">aobj</a>&nbsp; 
<a href="#dobj">dobj</a>&nbsp; 
<a href="#during">during</a>&nbsp; 
<a href="#execAfter">execAfter</a>&nbsp; 
<a href="#execBefore">execBefore</a>&nbsp; 
<a href="#iobj">iobj</a>&nbsp; 
<a href="#isActive">isActive</a>&nbsp; 
<a href="#location">location</a>&nbsp; 
<a href="#matchObj">matchObj</a>&nbsp; 
<a href="#present">present</a>&nbsp; 
<a href="#priority">priority</a>&nbsp; 
<a href="#rulebook">rulebook</a>&nbsp; 
<a href="#rulebooks">rulebooks</a>&nbsp; 
<a href="#specificity">specificity</a>&nbsp; 
<a href="#stopValue">stopValue</a>&nbsp; 
<a href="#where">where</a>&nbsp; 
<a href="#who">who</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#activate">activate</a>&nbsp; 
<a href="#addTo">addTo</a>&nbsp; 
<a href="#calcSpecficity">calcSpecficity</a>&nbsp; 
<a href="#compareTo">compareTo</a>&nbsp; 
<a href="#deactivate">deactivate</a>&nbsp; 
<a href="#follow">follow</a>&nbsp; 
<a href="#initializeRule">initializeRule</a>&nbsp; 
<a href="#matchConditions">matchConditions</a>&nbsp; 
<a href="#moveInto">moveInto</a>&nbsp; 
<a href="#removeFrom">removeFrom</a>&nbsp; 
<a href="#runAfter">runAfter</a>&nbsp; 
<a href="#runBefore">runBefore</a>&nbsp; 
<a href="#setRulebook">setRulebook</a>&nbsp; 
<a href="#when">when</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="action"></a>
<table class=decl><tr><td><code>// action</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#756">756</a>]</table><div class=desc>   An action, or a list of Actions, one of which (e.g. Take or Jump) must   be the current action in order for this Rule to match. [RULES EXTENSION] <p>
</div>
<a name="actor"></a>
<table class=decl><tr><td><code>actor</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#716">716</a>]</table><div class=desc>   The actor to use to compare with the who property of this Rule. This   will normally be gPlayerChar, but the value of this property is taken   from our RuleBook's actor property. [RULES EXTENSION] <p>
</div>
<a name="aobj"></a>
<table class=decl><tr><td><code>// aobj</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#767">767</a>]</table><div class=desc><i>no description available</i><p>
</div>
<a name="dobj"></a>
<table class=decl><tr><td><code>// dobj</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#765">765</a>]</table><div class=desc>   An object (or class), or a list of objects (and or classes) one of   which of each the direct, indirect and accessory objects of the current   action must match in order for this Rule to match. (The accessory   object is only relevant if the TIAAction extension is in use).   [RULES EXTENSION] <p>
</div>
<a name="during"></a>
<table class=decl><tr><td><code>// during</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#750">750</a>]</table><div class=desc>   A Scene, or a list of Scenes, one of which much be currently happening   for this Rule to match. [RULES EXTENSION] <p>
</div>
<a name="execAfter"></a>
<table class=decl><tr><td><code>execAfter</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#258">258</a>]</table><div class=desc>   A list of Rules this Rule should specifically run after; this overrides   all other ranking. [RULES EXTENSION] <p>
</div>
<a name="execBefore"></a>
<table class=decl><tr><td><code>execBefore</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#275">275</a>]</table><div class=desc>   A list of Rules this Rule should specifically run before; this   overrides all other ranking except for runAfter/execAfter.   [RULES EXTENSION] <p>
</div>
<a name="iobj"></a>
<table class=decl><tr><td><code>// iobj</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#766">766</a>]</table><div class=desc><i>no description available</i><p>
</div>
<a name="isActive"></a>
<table class=decl><tr><td><code>isActive</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#282">282</a>]</table><div class=desc>   A Rule is normally active (that is it will normally be considered when   a RuleBook is being followed) but it can be temporarily disabled by   setting its isActive property to nil. [RULES EXTENSION] <p>
</div>
<a name="location"></a>
<table class=decl><tr><td><code>location</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#183">183</a>]</table><div class=desc>   Our location is the RuleBook with which we start out being associated.   Normally this will be defined by locating a Rule inside its RukeBook   using the + notation. [RULES EXTENSION] <p>
</div>
<a name="matchObj"></a>
<table class=decl><tr><td><code>// matchObj</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#775">775</a>]</table><div class=desc>   An object, class, or other value, or a list of objects and/or classes   or of other values, one of which must match the matchObj property of   our rulebook (which is set by the first parameter of a call to that   RuleBooks's follow() method) for this Rule to match. [RULES EXTENSION] <p>
</div>
<a name="present"></a>
<table class=decl><tr><td><code>// present</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#786">786</a>]</table><div class=desc>   An object in the presence of which the actor must be for this rule to   match. Presence normally means in the same room, but if this property   is defined as a list and the first item in the list is a property   pointer (&amp;canSee, &amp;canHear, &amp;canReach, &amp;canSmell), this property will   be used to test for tne appropriate sense connection between the actor   and at least one of the other items in the list instead. [RULES EXTENSION] <p>
</div>
<a name="priority"></a>
<table class=decl><tr><td><code>priority</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#234">234</a>]</table><div class=desc>   The priority of this Rule. This can be used to alter the order in which   this Rule is considered in its RuleBook. If two Rules have different   priorities they will be run in priority order, highest priority first.   The default value is 100. [RULES EXTENSION] <p>
</div>
<a name="rulebook"></a>
<table class=decl><tr><td><code>rulebook</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#191">191</a>]</table><div class=desc>   The rulebook that's currently considering us. Normally this will be our   location, but it could be a different RuleBook if we belong to one.   Note that this property is automatically set by the library and so it   should never need to be altered by game code. [RULES EXTENSION] <p>
</div>
<a name="rulebooks"></a>
<table class=decl><tr><td><code>rulebooks</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#201">201</a>]</table><div class=desc>A list of all the rulebooks this rule is currently associated with. [RULES EXTENSION]<p>
</div>
<a name="specificity"></a>
<table class=decl><tr><td><code>specificity</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#242">242</a>]</table><div class=desc>   Where two Rules have the same priority, the one with the more specific   conditions is taken first. The specificity property holds a measure of   the Rule's specificity which is calculated by the calcSpecificity()   method at PreInit. [RULES EXTENSION] <p>
</div>
<a name="stopValue"></a>
<table class=decl><tr><td><code>stopValue</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#709">709</a>]</table><div class=desc>   The value this rule should return when the stop macro is used at the   end of its follow method. By default we use our rulebook's stopValue.   [RULES EXTENSION] <p>
</div>
<a name="where"></a>
<table class=decl><tr><td><code>// where</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#730">730</a>]</table><div class=desc>   A Room or Region, or a list of Rooms and/or Regions in which our actor   (usually either gActor or gPlayerChar - the latter by default - must be   for this Rule to match. [RULES EXTENSION] <p>
</div>
<a name="who"></a>
<table class=decl><tr><td><code>// who</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#744">744</a>]</table><div class=desc>   An actor, or a list of actors, one of whom must be performing the   current action for this Rule to match. [RULES EXTENSION] <p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="activate"></a>
<table class=decl><tr><td><code>activate ( )</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#285">285</a>]</table><div class=desc>Make this Rule active [RULES EXTENSION]<p>
</div>
<a name="addTo"></a>
<table class=decl><tr><td><code>addTo (rb)</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#649">649</a>]</table><div class=desc>Add this rule to another rulebook [RULES EXTENSION]<p>
</div>
<a name="calcSpecficity"></a>
<table class=decl><tr><td><code>calcSpecficity ( )</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#297">297</a>]</table><div class=desc>   Calculate the specificity of this Rule. The principles are (a) Rules   that specify more conditions are more specific than Rule that specify   fewer condition; (b) conditions involving specific objects are more   specific that those relating to classes and (c) Rooms are more specific   than Regions in a where condition. [RULES EXTENSION] <p>
</div>
<a name="compareTo"></a>
<table class=decl><tr><td><code>compareTo (other)</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#417">417</a>]</table><div class=desc>   Get the processing priority sorting order relative to another   Rule. [RULES EXTENSION] <p>
</div>
<a name="deactivate"></a>
<table class=decl><tr><td><code>deactivate ( )</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#288">288</a>]</table><div class=desc>Make this Rule inactive [RULES EXTENSION]<p>
</div>
<a name="follow"></a>
<table class=decl><tr><td><code>follow ([args])</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#224">224</a>]</table><div class=desc>   Do whatever this Rule needs to do when its conditions are met. This   method will need to be defined on each individual Rule in game code.   [RULES EXTENSION] <p>
</div>
<a name="initializeRule"></a>
<table class=decl><tr><td><code>initializeRule ( )</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#208">208</a>]</table><div class=desc>   Initialize this Rule by adding it to the contents list of its location   and calculating its specificity (i.e. how specific its conditions are)   [RULES EXTENSION] <p>
</div>
<a name="matchConditions"></a>
<table class=decl><tr><td><code>matchConditions ( )</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#464">464</a>]</table><div class=desc>Check whether a Rule matches its where, when, who and during conditions. [RULES EXTENSION]<p>
</div>
<a name="moveInto"></a>
<table class=decl><tr><td><code>moveInto (rb)</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#676">676</a>]</table><div class=desc>   Move this rule to another rulebook, removing it from all its current   rulebooks. If rb is nil, simply remove this Rule from its current   rulebooks. [RULES EXTENSION] <p>
</div>
<a name="removeFrom"></a>
<table class=decl><tr><td><code>removeFrom (rb)</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#659">659</a>]</table><div class=desc>Remove this rule from a rulebook [RULES EXTENSION]<p>
</div>
<a name="runAfter"></a>
<table class=decl><tr><td><code>runAfter (other)</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#249">249</a>]</table><div class=desc>   Return true if this Rule should always execute after other (despite all   other ranking criteria). By default we return true if and only if other   is in our execAfter list. [RULES EXTENSION] <p>
</div>
<a name="runBefore"></a>
<table class=decl><tr><td><code>runBefore (other)</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#265">265</a>]</table><div class=desc>   Return true if this Rule should always execute before other (despite all   other ranking criteria). By default we return true if and only if other   is in our execBefore list. [RULES EXTENSION] <p>
</div>
<a name="setRulebook"></a>
<table class=decl><tr><td><code>setRulebook (r)</code><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#198">198</a>]</table><div class=desc>   Set our current rulebook to r. Note that this method is normally called   by the Rulebook that's running us, and shouldn't normally be used by   game code. [RULES EXTENSION] <p>
</div>
<a name="when"></a>
<table class=decl><tr><td><code>// when ( )</code><span class=rem>Interface description only</span><td align=right><code><a href="../file/rules.t.html">rules.t</a>[<a href="../source/rules.t.html#738">738</a>]</table><div class=desc>   A condition that must hold (or a method returning a Boolean value to   determine whether or not appropriate conditions hold) for this Rule to   match. This is only needed if none of the other properties in this   section provide a way of speficifying the required conditions. <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 26/02/2025 from adv3Lite version 2.2</div>
</body>
</html>
