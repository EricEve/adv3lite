<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>webSession</title></head><body>
<table class=ban><tr><td align=left><span class=title>webSession</span><span class=type>object</span><td align=right><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#145">145</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   Web UI Session object.  This keeps track of miscellaneous items   associated with the game session. 
<p>
<code>transient <b>webSession</b> :  &nbsp; object</code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>webSession</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#clientSessions">clientSessions</a>&nbsp; 
<a href="#collabKey">collabKey</a>&nbsp; 
<a href="#everHadClient">everHadClient</a>&nbsp; 
<a href="#hkTime">hkTime</a>&nbsp; 
<a href="#lastClientTime">lastClientTime</a>&nbsp; 
<a href="#launcherGameID">launcherGameID</a>&nbsp; 
<a href="#launcherUsername">launcherUsername</a>&nbsp; 
<a href="#server">server</a>&nbsp; 
<a href="#sessionKey">sessionKey</a>&nbsp; 
<a href="#storageSID">storageSID</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#addClient">addClient</a>&nbsp; 
<a href="#connectUI">connectUI</a>&nbsp; 
<a href="#getCollabUrl">getCollabUrl</a>&nbsp; 
<a href="#getFullUrl">getFullUrl</a>&nbsp; 
<a href="#housekeeping">housekeeping</a>&nbsp; 
<a href="#removeClient">removeClient</a>&nbsp; 
<a href="#validateKey">validateKey</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="clientSessions"></a>
<table class=decl><tr><td><code>clientSessions</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#272">272</a>]</table><div class=desc>list of active client sessions (ClientSession objects)<p>
</div>
<a name="collabKey"></a>
<table class=decl><tr><td><code>collabKey</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#199">199</a>]</table><div class=desc>   The collaborative session key.  This is a secondary session key   that allows additional users to connect to the session for   collaborative play. <p>
</div>
<a name="everHadClient"></a>
<table class=decl><tr><td><code>everHadClient</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#352">352</a>]</table><div class=desc>have we ever had a client connection?<p>
</div>
<a name="hkTime"></a>
<table class=decl><tr><td><code>hkTime</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#346">346</a>]</table><div class=desc>system time (ms ticks) of next scheduled housekeeping pass<p>
</div>
<a name="lastClientTime"></a>
<table class=decl><tr><td><code>lastClientTime</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#349">349</a>]</table><div class=desc>the last time we noticed that we had a client connected<p>
</div>
<a name="launcherGameID"></a>
<table class=decl><tr><td><code>launcherGameID</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#236">236</a>]</table><div class=desc>   The launcher's game ID.  This is the ID passed from the web server   that launched the game, to let us know how the game is identified   in the launcher database.  This is typically an IFDB TUID string. <p>
</div>
<a name="launcherUsername"></a>
<table class=decl><tr><td><code>launcherUsername</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#243">243</a>]</table><div class=desc>   The launcher's user name.  This is passed from the web server that   launched the game, to let us know the host user's screen name.  We   use this as the user's default screen name in multi-user games. <p>
</div>
<a name="server"></a>
<table class=decl><tr><td><code>server</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#290">290</a>]</table><div class=desc>the HTTPServer object running our web session<p>
</div>
<a name="sessionKey"></a>
<table class=decl><tr><td><code>sessionKey</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#192">192</a>]</table><div class=desc>   The session key.  This identifies the server as a whole, and is   essentially an authentication mechanism that lets clients prove   they got our address from an authorized source (rather than just   stumbling across it via a port scan, say).  Clients must hand this   to us on each request, either via a URL query parameter or via a   cookie.  The normal setup (via WebResourceInit) is for the client   to send us the key as a URL parameter on the initial request, at   which point we'll pass it back as a set-cookie, removing the need   for the client to include the key in subsequent URLs. <p>   The key is just a random number that's long enough that an   interloper couldn't hope to guess it.  We generate this on the   first evaluation, and it remains fixed at that point for as long   as we're running. <p>
</div>
<a name="storageSID"></a>
<table class=decl><tr><td><code>storageSID</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#257">257</a>]</table><div class=desc>   The primary storage server session ID, for the user who launched   the server.  If the user who launched the game logged in to a   cloud storage server, this is the session ID that we use to   transact business with the server on behalf of this logged-in   user.  This token identifies and authenticates the user, but it's   ephemeral and it's only valid for the current game server session,   so it's not quite like a password.  This is the session for the   launch user only; if other collaborative users join, they can get   their own session IDs that will allow them to store files under   their own private user folders on the server. <p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="addClient"></a>
<table class=decl><tr><td><code>addClient (s)</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#275">275</a>]</table><div class=desc>add a client session<p>
</div>
<a name="connectUI"></a>
<table class=decl><tr><td><code>connectUI (srv)</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#160">160</a>]</table><div class=desc>   Connect to the UI.  By default, we ask the webMainWin object to   establish a connection, and we save the server object internally   for future reference. <p>
</div>
<a name="getCollabUrl"></a>
<table class=decl><tr><td><code>getCollabUrl ( )</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#264">264</a>]</table><div class=desc>   Get the collaborative player launch URL.  This is a URL that the   host can send to other players who wish to join the session as   collaborative users. <p>
</div>
<a name="getFullUrl"></a>
<table class=decl><tr><td><code>getFullUrl (resname)</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#149">149</a>]</table><div class=desc>   Get the full URL to the given resource. <p>
</div>
<a name="housekeeping"></a>
<table class=decl><tr><td><code>housekeeping ( )</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#297">297</a>]</table><div class=desc>   Run housekeeping tasks.  The network event processor calls this   periodically to let us perform background cleanup tasks.  Returns   the system tick time of the next housekeeping run. <p>
</div>
<a name="removeClient"></a>
<table class=decl><tr><td><code>removeClient (s)</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#283">283</a>]</table><div class=desc>remove a client session<p>
</div>
<a name="validateKey"></a>
<table class=decl><tr><td><code>validateKey (req, query)</code><td align=right><code><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#204">204</a>]</table><div class=desc>   Validate a session key sent from the client <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 26/02/2025 from adv3Lite version 2.2</div>
</body>
</html>
