<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>ShuffledEventList</title></head><body>
<table class=ban><tr><td align=left><span class=title>ShuffledEventList</span><span class=type>class</span><td align=right><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#400">400</a>], <a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#362">362</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   Shuffled event list.  This is similar to a random event list, except   that we fire our events in a "shuffled" order rather than an   independently random order.  "Shuffled order" means that we fire the   events in random order, but we don't re-fire an event until we've run   through all of the other events.  The effect is as though we were   dealing from a deck of cards. <p>   For the first time through the main list, we normally shuffle the   strings immediately at startup, but this is optional.  If shuffleFirst   is set to nil, we will NOT shuffle the list the first time through -   we'll run through it once in the given order, then shuffle for the   next time through, then shuffle again for the next, and so on.  So, if   you want a specific order for the first time through, just define the   list in the desired order and set shuffleFirst to nil. <p>   You can optionally specify a separate list of one-time-only sequential   strings in the property firstEvents.  We'll run through these strings   once.  When we've exhausted them, we'll switch to the main eventList   list, showing it one time through in its given order, then shuffling   it and running through it again, and so on.  The firstEvents list is   never shuffled - it's always shown in exactly the order given. 
<p><i>Modified in <a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#362">362</a>]:</i><br>
Mofiications to ShuffledEventList for EventListItem extension
<p>
<code>class 
<b>ShuffledEventList</b> :  &nbsp; <a href="../object/RandomFiringScript.html">RandomFiringScript</a> &nbsp; <a href="../object/EventList.html">EventList</a></code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>ShuffledEventList</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/RandomFiringScript.html">RandomFiringScript</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/EventList.html">EventList</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/Script.html">Script</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#firstEvents">firstEvents</a>&nbsp; 
<a href="#shuffledList_">shuffledList_</a>&nbsp; 
<a href="#shuffleFirst">shuffleFirst</a>&nbsp; 
<a href="#suppressRepeats">suppressRepeats</a>&nbsp; 
</code><p>
<p>Inherited from <code>RandomFiringScript</code> :<br>
<code>
<a href="../object/RandomFiringScript.html#eventPercent">eventPercent</a>&nbsp; 
<a href="../object/RandomFiringScript.html#eventReduceAfter">eventReduceAfter</a>&nbsp; 
<a href="../object/RandomFiringScript.html#eventReduceTo">eventReduceTo</a>&nbsp; 
</code><p>
<p>Inherited from <code>EventList</code> :<br>
<code>
<a href="../object/EventList.html#curScriptState">curScriptState</a>&nbsp; 
<a href="../object/EventList.html#eventList">eventList</a>&nbsp; 
<a href="../object/EventList.html#eventListLen">eventListLen</a>&nbsp; 
<a href="../object/EventList.html#resetEachCycle">resetEachCycle</a>&nbsp; 
</code><p>
<code>
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#addItem">addItem</a>&nbsp; 
<a href="#doScript">doScript</a>&nbsp; 
<a href="#getNextRandom">getNextRandom</a>&nbsp; 
<a href="#resetList">resetList</a>&nbsp; 
</code><p>
<p>Inherited from <code>RandomFiringScript</code> :<br>
<code>
<a href="../object/RandomFiringScript.html#checkEventOdds">checkEventOdds</a>&nbsp; 
<a href="../object/RandomFiringScript.html#underusedReadyELIidx">underusedReadyELIidx</a>&nbsp; 
</code><p>
<p>Inherited from <code>EventList</code> :<br>
<code>
<a href="../object/EventList.html#advanceState">advanceState</a>&nbsp; 
<a href="../object/EventList.html#construct">construct</a>&nbsp; 
<a href="../object/EventList.html#doScriptEvent">doScriptEvent</a>&nbsp; 
<a href="../object/EventList.html#scriptDone">scriptDone</a>&nbsp; 
</code><p>
<p>Inherited from <code>Script</code> :<br>
<code>
<a href="../object/Script.html#getScriptState">getScriptState</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="firstEvents"></a>
<table class=decl><tr><td><code>firstEvents</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#405">405</a>]</table><div class=desc>   a list of events to go through sequentially, in the exact order   specified, before firing any events from the main list <p>
</div>
<a name="shuffledList_"></a>
<table class=decl><tr><td><code>shuffledList_</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#510">510</a>]</table><div class=desc>our ShuffledList - we'll initialize this on demand<p>
</div>
<a name="shuffleFirst"></a>
<table class=decl><tr><td><code>shuffleFirst</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#415">415</a>]</table><div class=desc>   Flag: shuffle the eventList list before we show it for the first   time.  By default, this is set to true, so that the behavior is   random on each independent run of the game.  However, it might be   desirable in some cases to always use the original ordering of the   eventList list the first time through the list.  If this is set to   nil, we won't shuffle the list the first time through. <p>
</div>
<a name="suppressRepeats"></a>
<table class=decl><tr><td><code>suppressRepeats</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#430">430</a>]</table><div class=desc>   Flag: suppress repeats in the shuffle.  If this is true, it   prevents a given event from showing up twice in a row, which could   otherwise happen right after a shuffle.  This is ignored for lists   with one or two events: it's impossible to prevent repeats in a   one-element list, and doing so in a two-element list would produce   a predictable A-B-A-B... pattern. <p>   You might want to set this to nil for lists of three or four   elements, since such short lists can result in fairly   un-random-looking sequences when repeats are suppressed, because   the available number of permutations drops significantly. <p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="addItem"></a>
<table class=decl><tr><td><code>addItem (item, prop)</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#417">417</a>]</table><div class=desc>apply our suppressRepeats option to the shuffled list<p>
</div>
<a name="doScript"></a>
<table class=decl><tr><td><code>doScript ( )</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#433">433</a>]</table><div class=desc>process the next step of the script<p>
</div>
<a name="getNextRandom"></a>
<table class=decl><tr><td><code>getNextRandom ( )</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#490">490</a>], <a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#369">369</a>]</table><div class=desc>   Get the next random event.  We'll pick an event from our list of   events using a ShuffledIntegerList to ensure we pick each value   once before re-using any values. <p>
<p><i>Modified in <a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#369">369</a>]:</i><br>
   For the EventListItem extenstion we modify this method so that it first chooses any as yet   unused EventListItem from our eventList that's now ready to fire. If none is found, we use   the inherited behaviour to select the next item indicated by our shuffledList_ . <p>
</div>
<a name="resetList"></a>
<table class=decl><tr><td><code>resetList ( )</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#401">401</a>]</table><div class=desc>   Reset our eventList to clear out EventListItems that are done with (isDone = true). This is   not called from any library code by default, but can be called from game code if game   authors are worried about an accumulation of too many spent EventListItems in any given   eventList. For many games, this probably won't be necessary. <p>   One potentially good place to call this from as at the end of each iteration of a   ShuffledEventList, when the items are about to be reshuffled in any case. You can make this   happen by setting the resetOnReshuffle property to true, <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 26/02/2025 from adv3Lite version 2.2</div>
</body>
</html>
