<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>Special</title></head><body>
<table class=ban><tr><td align=left><span class=title>Special</span><span class=type>class</span><td align=right><a href="../file/query.t.html">query.t</a>[<a href="../source/query.t.html#694">694</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   A Special defines a set of custom overrides to standard Query   questions that apply under specific conditions. <p>   At any given time, a Special is either active or inactive.  This is   determined by the active() method. 
<p>
<code>class 
<b>Special</b> :  &nbsp; object</code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>Special</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<code>
<a href="../object/commLink.html">commLink</a>&nbsp; 
<a href="../object/QDefaults.html">QDefaults</a>&nbsp; 
<a href="../object/QSenseRegion.html">QSenseRegion</a>&nbsp; 
<a href="../object/QViewport.html">QViewport</a>&nbsp; 
</code>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#active">active</a>&nbsp; 
<a href="#all">all</a>&nbsp; 
<a href="#allActive_">allActive_</a>&nbsp; 
<a href="#priority">priority</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#allActive">allActive</a>&nbsp; 
<a href="#classInit">classInit</a>&nbsp; 
<a href="#first">first</a>&nbsp; 
<a href="#next">next</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="active"></a>
<table class=decl><tr><td><code>active</code><td align=right><code><a href="../file/query.t.html">query.t</a>[<a href="../source/query.t.html#699">699</a>]</table><div class=desc>   Am I active?  Each instance should override this to define the   conditions that activate the Special. <p>
</div>
<a name="all"></a>
<table class=decl><tr><td><code>all</code><td align=right><code><a href="../file/query.t.html">query.t</a>[<a href="../source/query.t.html#840">840</a>]</table><div class=desc>   Class property: the list of all Special objects throughout the   game.  This is set up during preinit. <p>
</div>
<a name="allActive_"></a>
<table class=decl><tr><td><code>allActive_</code><td align=right><code><a href="../file/query.t.html">query.t</a>[<a href="../source/query.t.html#814">814</a>]</table><div class=desc>   Class property: cache of all currently active Specials.  This is   set whenever someone asks for the list and it's not available, and   is cleared whenever an Effect modifies the game state.  (Callers   shouldn't access this directly - this is an internal cache.  Use   the allActive() method instead.) <p>
</div>
<a name="priority"></a>
<table class=decl><tr><td><code>priority</code><td align=right><code><a href="../file/query.t.html">query.t</a>[<a href="../source/query.t.html#736">736</a>]</table><div class=desc>   My priority.  This is an integer value that determines which   Special takes precedence when two or more Specials are active at   the same time, and they both/all define a given query method.  In   such a situation, Q calls the active Specials in ascending   priority order (lowest first, highest last), and takes the last   one's answer as the true answer to the question.  This means that   the Special with the highest priority takes precedence, and can   override any lower-ranking Special that's active at the same time. <p>   The library uses the following special priority values: <p>   0 = the basic library defaults.  The defaults must have the lowest   priority, meaning that all Special objects defined by a game or   extension must use priorities higher than 0. <p>   Other than the special priorities listed above, the priority is   simply a relative ordering, so games and extensions can use   whatever range of values they like. <p>   Note that priorities can't change while running.  This is a   permanent feature of the object.  We take advantage of this to   avoid re-sorting the active list every time we build it.  We sort   the master list at initialization and assume it stays sorted, so   that any subset is inherently sorted.  If it's important to the   game to dynamically change priorities, you just need to re-sort   the allActive_ list at appropriate times.  If priorities can only   change when the game-world state changes, you can simply sort the   list in allActive() each time it's rebuilt.  If priorities can   change at other times (which doesn't seem like it'd be useful, but   just in case), you'd need to re-sort the list on every call to   allActive(), even when the list isn't rebuilt. <p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="allActive"></a>
<table class=decl><tr><td><code>allActive ( )</code><td align=right><code><a href="../file/query.t.html">query.t</a>[<a href="../source/query.t.html#795">795</a>]</table><div class=desc>Class method: get the list of active Specials.<p>
</div>
<a name="classInit"></a>
<table class=decl><tr><td><code>classInit ( )</code><td align=right><code><a href="../file/query.t.html">query.t</a>[<a href="../source/query.t.html#817">817</a>]</table><div class=desc>during initialization, build the list of all Specials<p>
</div>
<a name="first"></a>
<table class=decl><tr><td><code>first (prop)</code><td align=right><code><a href="../file/query.t.html">query.t</a>[<a href="../source/query.t.html#773">773</a>]</table><div class=desc>   Get the first active Special (the one with the highest priority)   that defines the given method.  This is used by the Q query   methods to invoke the correct current Special version of the   method. <p>
</div>
<a name="next"></a>
<table class=decl><tr><td><code>next ( )</code><td align=right><code><a href="../file/query.t.html">query.t</a>[<a href="../source/query.t.html#750">750</a>]</table><div class=desc>   Call the same method in the next lower priority Special.  This can   be used in any Special query method to invoke the "default"   version that would have been used if the current Special had not   been active. <p>   This is analogous to using 'inherited' to inherit the superclass   version of a method from an overriding version in a subclass.  As   with 'inherited', you can only call this directly from the method   that you want to pass to the default handling, because this   routine determines what to call based on the caller. <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 08/12/2025 from adv3Lite version 2.2.2</div>
</body>
</html>
