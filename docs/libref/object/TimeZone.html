<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>TimeZone</title></head><body>
<table class=ban><tr><td align=left><span class=title>TimeZone</span><span class=type>class</span><td align=right><a href="../file/date.h.html">date.h</a>[<a href="../source/date.h.html#508">508</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   TimeZone intrinsic class.  A TimeZone object represents a location entry   in the IANA zoneinfo database.  It contains information on the   location's wall clock time settings relative to universal time (UTC),   allowing translations between local wall clock time and UTC.  The object   stores the current clock settings in the location, the current ongoing   rules for future switches between standard and daylight time (if   applicable in the zone), and a full history of the past changes to the   location's time settings, including standard/daylight time changes,   redefinitions of the time zone, and changes in the location from one   time zone to another.  (For example, some US cities that lie near zone   borders have switched their time zones at various points in their   history.)  The historical information for most zones goes back to the   original establishment of standard time zones, typically in the late   19th century, and for dates before that, the history usually includes   the Local Mean Time settings for the location.  The history information   allows the accurate reconstruction of the local time representation for   virtually any date and time in the past, present, or future. <p>   Construction: <p> <br>   new TimeZone() - creates a TimeZone object representing the local <br>       system time zone.  Note that a TimeZone object created this way <br>       will always represent the local zone.  If the game is saved on <br>       one machine and restored on another that uses a different local <br>       time zone, the restored object will represent the new machine's <br>       local time zone after the restore. <p> <br>  new TimeZone(integer) - creates a TimeZone object representing the <br>       given offset from UTC, in seconds.  Positive values are east of <br>       UTC, negative values are west; for example, Pacific Standard <br>       Time is 8 hours west of UTC, so you'd use -8*60*60 as the offset. <br>       This type of TimeZone represents a fixed offset <p> <br>  new TimeZone('name') - creates a TimeZone object for the given zone <br>       name.  This can use a number of formats: *. <br>       'America/New_York' - a name from the IANA zoneinfo database. <br>           This is the best way to specify a zone because it's <br>           unambiguous. *. <br>       'Z', 'UTC' - UTC (Universal Time Coordinated, also sometimes <br>           called GMT/Greenwich Mean Time, or Z/Zulu time) <p> <br>       'EST' - a colloquial English abbreviation for a local time <br>           zone.  Many of these are ambiguous, since some zone names <br>           are used in several different regions.  For example, <br>           'CST' is used in the US, Brazil, Australia, and China, <br>           for time zones at different offsets from UTC.  When the <br>           name is ambiguous, we use a fixed mapping that tends to <br>           favor zones in the US and Europe.  This format is mapped <br>           to a zoneinfo entry, so the actual underlying zone will <br>           be one of the location-based entries.  For example, 'EST' <br>           is mapped to 'America/New_York'.  This is important <br>           because it means that the TimeZone object uses the full <br>           rule set and history for the mapped zone, which might <br>           differ from the history of the same nominal zone in other <br>           locations; e.g., 'America/New_York' and 'Canada/Montreal' <br>           are both on Eastern Time, but they have some differences <br>           in their historical daylight savings rules. <p> <br>       'PST8PDT' - a POSIX TZ-style string, with the standard time <br>           abbreviation, the standard time offset in hours (and <br>           optionally minutes and seconds, with colons), the daylight <br>           time abbreviation, and optionally the daylight time <br>           offset (which defaults to one hour ahead of standard <br>           time when not specified).  This is somewhat less ambiguous <br>           than using just the zone abbreviation, but is still <p> <br>       '+0430' or 'UTC+0430' - four hours thirty minutes east of UTC; <br>           this can also be written as '+4:30' or '+4:30:00'.  For a <br>           whole number of hours, you can write it as simply '+4', for <br>           example.  A negative number is west of UTC; e.g., Pacific <br>           Standard Time is '-8'.  When using this format, the zone <br>           represents a fixed time offset from UTC; it's not tied to <br>           any location or named time zone, and doesn't use daylight <br>           savings time. <p>   Note that the commonly used time zone names (e.g., PST, or Pacific   Standard Time) aren't allowed.  The standard time zone names are   ambiguous; for example, CST refers to at least four different time zones   (USA Central Standard Time, Australia Central Standard Time, China   Standard Time, and Cuba Summer Time). <p> 
<p>
<code>intrinsic class 
<b>TimeZone</b> :  &nbsp; <a href="../object/Object.html">Object</a></code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>TimeZone</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/Object.html">Object</a></code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
</code><p>
<code>
</code><p>
<i>(none)</i>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#getHistory">getHistory</a>&nbsp; 
<a href="#getLocation">getLocation</a>&nbsp; 
<a href="#getNames">getNames</a>&nbsp; 
<a href="#getRules">getRules</a>&nbsp; 
</code><p>
<p>Inherited from <code>Object</code> :<br>
<code>
<a href="../object/Object.html#callInherited">callInherited</a>&nbsp; 
<a href="../object/Object.html#cf">cf</a>&nbsp; 
<a href="../object/Object.html#checkDisplay">checkDisplay</a>&nbsp; 
<a href="../object/Object.html#createIterator">createIterator</a>&nbsp; 
<a href="../object/Object.html#createLiveIterator">createLiveIterator</a>&nbsp; 
<a href="../object/Object.html#display">display</a>&nbsp; 
<a href="../object/Object.html#displayAlt">displayAlt</a>&nbsp; 
<a href="../object/Object.html#forEach">forEach</a>&nbsp; 
<a href="../object/Object.html#getPropList">getPropList</a>&nbsp; 
<a href="../object/Object.html#getPropParams">getPropParams</a>&nbsp; 
<a href="../object/Object.html#getSuperclassList">getSuperclassList</a>&nbsp; 
<a href="../object/Object.html#isClass">isClass</a>&nbsp; 
<a href="../object/Object.html#isTransient">isTransient</a>&nbsp; 
<a href="../object/Object.html#mapAll">mapAll</a>&nbsp; 
<a href="../object/Object.html#ofKind">ofKind</a>&nbsp; 
<a href="../object/Object.html#propDefined">propDefined</a>&nbsp; 
<a href="../object/Object.html#propInherited">propInherited</a>&nbsp; 
<a href="../object/Object.html#propType">propType</a>&nbsp; 
<a href="../object/Object.html#valToSymbol">valToSymbol</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="getHistory"></a>
<table class=decl><tr><td><code>getHistory (date?)</code><td align=right><code><a href="../file/date.h.html">date.h</a>[<a href="../source/date.h.html#566">566</a>]</table><div class=desc>   Get the history item that applies to a given date, or the entire   enumerated history of clock changes in this timezone. <p>   If 'date' is supplied, it must be a Date object.  This returns a   list describing the single period in the timezone history that   applies to the given date.  The list contains [date, offset, save,   abbr], where 'date' is a Date object giving the starting date when   the history item took effect; 'offset' is the offset from UTC in   milliseconds of standard time in the zone during this period, using   the zoneinfo convention that positive values are east of GMT; 'save'   is the additional time added if daylight savings is in effect during   this period, in milliseconds, or zero if standard time is in effect;   and 'abbr' is a string giving the abbreviation for the zone during   this period ('PST', 'EDT', etc).  Each period in the history is   entirely in daylight or standard time; if 'save' is zero, standard   time is in effect, otherwise daylight time. <p>   If 'date' is omitted or nil, this returns a list of all of the   pre-computed changes in the timezone's history, including definition   changes and daylight time changes.  Each list entry is a sublist of   the form described above. <p>   In a full history, the first and last items are special.  The first   item represents the settings in the location prior to the   establishment of standard time zones; this is usually a "local mean   time" setting (with abbreviation LMT) for the mean solar time at the   location.  The last item represents the last pre-computed history   entry, which is sometimes in the future; further transitions after   this item might occur if the zone has ongoing rules. <p>   In many cases, the history list contains a number of periods that   could have been inferred from the ongoing rules, so strictly   speaking they don't need to be enumerated in the history.  When   they're included, it's for faster run-time lookup.  TADS   pre-computes rule-based transitions up to the present and a few   years into the future, since history-based lookups are much faster   than applying the rules.  We expect that the typical program will   mostly work with dates close to the present time, so we pre-compute   transitions for a few years into the future to speed things up for   the typical case.  For changes after the last enumerated entry, TADS   applies the rules, so transitions in the far future will be   correctly figured when needed. <p>
</div>
<a name="getLocation"></a>
<table class=decl><tr><td><code>getLocation ( )</code><td align=right><code><a href="../file/date.h.html">date.h</a>[<a href="../source/date.h.html#628">628</a>]</table><div class=desc>   Get the zone's location.  This returns a list: [country, lat, lon,   comment], where 'country' is a string with the country code (a   two-letter ISO 3166 code) for the country that contains the zone's   main city, 'lat' is a string giving the latitude in the format +ddmm   (degrees and minutes) or +ddmmss (and seconds), 'lon' is the   longitude as a string in the format +dddmm or +dddmmss, and   'comment' is a string with any comment text from the zoneinfo   database. <p>
</div>
<a name="getNames"></a>
<table class=decl><tr><td><code>getNames ( )</code><td align=right><code><a href="../file/date.h.html">date.h</a>[<a href="../source/date.h.html#520">520</a>]</table><div class=desc>   Get the name or names for this timezone.  This returns a list of   strings with the timezone's names, as defined in the IANA zoneinfo   database.  The zoneinfo database names zones by location, usually   using a combination of a continent major city, as in   'America/New_York'.  Some zones have multiple aliases as a matter of   convenience, such as when there are several major cities in a region   that share the same timezone rules.  When a zone has aliases, the   primary name is listed first, followed by the aliases. <p>
</div>
<a name="getRules"></a>
<table class=decl><tr><td><code>getRules ( )</code><td align=right><code><a href="../file/date.h.html">date.h</a>[<a href="../source/date.h.html#616">616</a>]</table><div class=desc>   Get the ongoing rules that are in effect after the last enumerated   history item.  This returns a list of the rules for future changes   to the zone; each rule fires once annually, and encodes the day of   year when the rule fires, and the new clock settings in effect after   the rule fires.  Virtually all zones that use ongoing rules have   exactly two: one for the annual change to daylight savings time in   the spring, and one for the return to standard time in the fall.   Each rule's firing date is specified in an abstract format designed   to handle the variety of regional daylight savings schemes: "last   Sunday in March", "second Sunday in November", "January 15", etc. <p>   Each rule in the list is described by a sublist: [abbr, offset,   save, when, mm, typ, dd, wkday, time, zone].  'abbr' is a string   with the time zone abbreviation while the rule is in effect; most   zones use one abbreviation for standard time and another for   daylight time, so each rule tells us the abbreviation to use while   the rule is in effect.  'offset' is the standard time GMT offset, in   milliseconds, while the rule is in effect, and 'save' is the   additional offset for daylight savings time - so the full offset   while the rule is in effect is offset+save.  'when' is a string with   a human-readable description of the firing date: this will be of the   form 'Mar last Sun' (for the last Sunday in March), 'Mar Sun&gt;=1' for   the first Sunday in March on or after March 1, 'Mar Sun&lt;=28' for the   last Sunday in March on or before March 28, 'Mar 7' for March 7, or   'DOY 72' for the 72nd day of the year.  Next we have the same firing   date information in a more computer-friendly format: 'mm' is the   month number, 1-12 for Jan-Dec; 'typ' is an integer giving the type   of date specification (0 for a fixed day of the month 'mm/dd', 1 for   the last &lt;weekday&gt; of month &lt;mm&gt;, 2 for the first &lt;weekday&gt; of month   &lt;mm&gt; on or after day &lt;dd&gt;, and 3 for the last &lt;weekday&gt; of month   &lt;mm&gt; on or before day &lt;dd&gt;), 'dd' is the day of the month (which is   ignored if 'typ' is 1), 'wkday' is the day of the week, 1-7 for   Sunday-Saturday (which is ignored if 'typ' is 0).  'time' is the   time of day the rule goes into effect, as milliseconds after   midnight.  'zone' is a code for the timezone used to interpret the   date and time; this is usually 'w' for local wall clock time (in   other words, the local time zone that was in effect up until the   moment this rule takes effect - so if this is a daylight savings   rule, the rule is stated in terms of local standard time, and vice   versa), but can also be 's' for local standard time (in other words,   if the previous period was in daylight time, ignore that and read   this rule's time in terms of local standard time instead), or 'u'   for UTC.  Note that the zone has to be applied to the full   date-and-time value, since an 's' or 'u' could conceivably cause the   local date and the date in the rule's zone to differ by a day at the   time of day of the rule. <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 03/03/2025 from adv3Lite version 2.2.0.3</div>
</body>
</html>
