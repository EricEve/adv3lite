<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>MessageCtx</title></head><body>
<table class=ban><tr><td align=left><span class=title>MessageCtx</span><span class=type>class</span><td align=right><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#459">459</a>], <a href="../file/english.t.html">english.t</a>[<a href="../source/english.t.html#6568">6568</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   Message expansion sentence context.  This keeps track of the parts of   the sentence we've seen so far in the substitution parameters. <p>   The sentence context is important for expanding certain items.  For   verbs, it tells us which object is the subject, so that we can   generate the agreeing conjugation of the verb (in number and   grammatical person).  For direct and indirect objects, it lets us   generate a reflexive when the same object appears in a second role   ("You can't put the box in itself"). 
<p>
<code>class 
<b>MessageCtx</b> :  &nbsp; object</code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>MessageCtx</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#args">args</a>&nbsp; 
<a href="#cmd">cmd</a>&nbsp; 
<a href="#gotVerb">gotVerb</a>&nbsp; 
<a href="#lastParam">lastParam</a>&nbsp; 
<a href="#prescan">prescan</a>&nbsp; 
<a href="#pronounProps">pronounProps</a>&nbsp; 
<a href="#pronounUsed">pronounUsed</a>&nbsp; 
<a href="#reflexiveAnte">reflexiveAnte</a>&nbsp; 
<a href="#sourceProp">sourceProp</a>&nbsp; 
<a href="#subj">subj</a>&nbsp; 
<a href="#subjEffectivelyPlural">subjEffectivelyPlural</a>&nbsp; 
<a href="#vobj">vobj</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#actorIsPC">actorIsPC</a>&nbsp; 
<a href="#construct">construct</a>&nbsp; 
<a href="#endPreScan">endPreScan</a>&nbsp; 
<a href="#lastParamPlural">lastParamPlural</a>&nbsp; 
<a href="#noteObj">noteObj</a>&nbsp; 
<a href="#noteParam">noteParam</a>&nbsp; 
<a href="#noteSourceProp">noteSourceProp</a>&nbsp; 
<a href="#noteVerb">noteVerb</a>&nbsp; 
<a href="#paramToNum">paramToNum</a>&nbsp; 
<a href="#paramToString">paramToString</a>&nbsp; 
<a href="#startSentence">startSentence</a>&nbsp; 
<a href="#subjPlural">subjPlural</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="args"></a>
<table class=decl><tr><td><code>args</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#782">782</a>]</table><div class=desc>the message argument list<p>
</div>
<a name="cmd"></a>
<table class=decl><tr><td><code>cmd</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#785">785</a>]</table><div class=desc>the Command object among the arguments, if any<p>
</div>
<a name="gotVerb"></a>
<table class=decl><tr><td><code>gotVerb</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#779">779</a>]</table><div class=desc>have we seen a verb parameter in this sentence yet?<p>
</div>
<a name="lastParam"></a>
<table class=decl><tr><td><code>lastParam</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#767">767</a>]</table><div class=desc>the last parameter value<p>
</div>
<a name="prescan"></a>
<table class=decl><tr><td><code>prescan</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#770">770</a>]</table><div class=desc>are we on the initial pre-expansion scan?<p>
</div>
<a name="pronounProps"></a>
<table class=decl><tr><td><code>pronounProps</code><td align=right><code><a href="../file/english.t.html">english.t</a>[<a href="../source/english.t.html#6570">6570</a>]</table><div class=desc>A list of object properties that refer to pronouns.<p>
</div>
<a name="pronounUsed"></a>
<table class=decl><tr><td><code>pronounUsed</code><td align=right><code><a href="../file/english.t.html">english.t</a>[<a href="../source/english.t.html#6576">6576</a>]</table><div class=desc>   Has a pronoun just been used? It has it we've just used a pronoun property to generate the   messaage text relating to the subject. <p>
</div>
<a name="reflexiveAnte"></a>
<table class=decl><tr><td><code>reflexiveAnte</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#807">807</a>]</table><div class=desc>   The reflexive antecedents.  Each time we see an object in a   non-subject role, and the object has different pronoun usage from   any previous entry, we'll add it to this list.  If we see the same   object subsequently in another non-subject role, we'll know that   we should generate a reflexive pronoun for the object rather than   the name or a regular pronoun: <p>   You can't put the tongs in the box with the tongs -&gt; with   themselves <p>
</div>
<a name="sourceProp"></a>
<table class=decl><tr><td><code>sourceProp</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#787">787</a>]</table><div class=desc><i>no description available</i><p>
</div>
<a name="subj"></a>
<table class=decl><tr><td><code>subj</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#773">773</a>]</table><div class=desc>the subject of the sentence (as a Mentionable object)<p>
</div>
<a name="subjEffectivelyPlural"></a>
<table class=decl><tr><td><code>subjEffectivelyPlural</code><td align=right><code><a href="../file/english.t.html">english.t</a>[<a href="../source/english.t.html#6583">6583</a>]</table><div class=desc>   The subject is effectively plural for the purponses of conjugation if it as actually plural   or we've just used a plural pronoun ('they') to refer to it. <p>
</div>
<a name="vobj"></a>
<table class=decl><tr><td><code>vobj</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#776">776</a>]</table><div class=desc>the last object of the verb we saw<p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="actorIsPC"></a>
<table class=decl><tr><td><code>actorIsPC ( )</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#760">760</a>]</table><div class=desc>   Is the actor involved in the Command the PC?  If there's a Command   with an actor, we check to see if it's the PC.  If there's no   Command or no actor, we assume that the PC is the relevant actor   (since there's nothing else specified anywhere) and return true. <p>
</div>
<a name="construct"></a>
<table class=decl><tr><td><code>construct (args)</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#460">460</a>]</table><div class=desc><i>no description available</i><p>
</div>
<a name="endPreScan"></a>
<table class=decl><tr><td><code>endPreScan ( )</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#498">498</a>]</table><div class=desc>   End the pre-expansion scan.  The expander makes two passes over   each sentence.  The first scan doesn't actually do any   substitutions, but merely invokes each parameter to give it a   chance to exert its side effects on the sentence context.  The   second scan actually applies the substitutions.  At the end of the   first pass, the expander calls this to let us finalize the initial   scan and prepare for the second scan. <p>
</div>
<a name="lastParamPlural"></a>
<table class=decl><tr><td><code>lastParamPlural ( )</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#729">729</a>]</table><div class=desc>   Was the last parameter value plural?  If the value is numeric, 1   is singular and anything else is plural.  If it's a list, a   one-element list is singular and anything else is plural.  If it's   a Mentionable, the 'plural' property determines it. <p>
</div>
<a name="noteObj"></a>
<table class=decl><tr><td><code>noteObj (obj, role)</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#606">606</a>]</table><div class=desc>   Note an object being used as a parameter in the given sentence   role.  The role is one of the noun role enums defined above:   vSubject, vObject, or vAmbig.  If the object is a subject, we'll   save it as the sentence subject, so that we can generate an   agreeing verb.  Regardless of role, we'll also save it as a   reflexive antecedent, so that we can generate a reflexive pronoun   if we see the same object again in another role in the same   sentence. <p>
</div>
<a name="noteParam"></a>
<table class=decl><tr><td><code>noteParam (val)</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#520">520</a>]</table><div class=desc>   Note a parameter value.  Some parameters refer back to the   immediately preceding parameter, so it's useful to have the most   recent value stashed away.  Returns the parameter value as given. <p>
</div>
<a name="noteSourceProp"></a>
<table class=decl><tr><td><code>noteSourceProp (prop)</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#789">789</a>]</table><div class=desc><i>no description available</i><p>
</div>
<a name="noteVerb"></a>
<table class=decl><tr><td><code>noteVerb ( )</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#717">717</a>]</table><div class=desc>   Note a verb parameter. <p>
</div>
<a name="paramToNum"></a>
<table class=decl><tr><td><code>paramToNum (val)</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#568">568</a>]</table><div class=desc>   Convert a parameter value to a numeric representation.  If the   value is an integer or BigNumber, we return it as is; if a list or   vector, we return the number of elements; if nil, 0; if a string,   the parsed numeric value of the string; otherwise we simply return   1. <p>
</div>
<a name="paramToString"></a>
<table class=decl><tr><td><code>paramToString (val)</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#530">530</a>]</table><div class=desc>   Convert a parameter value to a string representation suitable for   message substitution. <p>
</div>
<a name="startSentence"></a>
<table class=decl><tr><td><code>startSentence ( )</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#474">474</a>]</table><div class=desc>start a new sentence<p>
</div>
<a name="subjPlural"></a>
<table class=decl><tr><td><code>subjPlural ( )</code><td align=right><code><a href="../file/messages.t.html">messages.t</a>[<a href="../source/messages.t.html#809">809</a>]</table><div class=desc><i>no description available</i><p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 08/12/2025 from adv3Lite version 2.2.2</div>
</body>
</html>
