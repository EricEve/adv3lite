<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>AgendaItem</title></head><body>
<table class=ban><tr><td align=left><span class=title>AgendaItem</span><span class=type>class</span><td align=right><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7099">7099</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   An "agenda item."  Each actor can have its own "agenda," which is a   list of these items.  Each item represents an action that the actor   wants to perform - this is usually a goal the actor wants to achieve,   or a conversational topic the actor wants to pursue. <p>   On any given turn, an actor can carry out only one agenda item. <p>   Agenda items are a convenient way of controlling complex behavior.   Each agenda item defines its own condition for when the actor can   pursue the item, and each item defines what the actor does when   pursuing the item.  Agenda items can improve the code structure for an   NPC's behavior, since they nicely isolate a single background action   and group it with the conditions that trigger it.  But the main   benefit of agenda items is the one-per-turn pacing - by executing at   most one agenda item per turn, we ensure that the NPC will carry out   its self-initiated actions at a measured pace, rather than as a jumble   of random actions on a single turn. <p>   Note that NPC-initiated conversation messages override agendas.  If an   actor has an active ConvNode, AND the ConvNode displays a   "continuation message" on a given turn, then the actor will not pursue   its agenda on that turn.  In this way, ConvNode continuation messages   act rather like high-priority agenda items. 
<p>
<code>class 
<b>AgendaItem</b> :  &nbsp; object</code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>AgendaItem</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<code><b>AgendaItem</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/BoredomAgendaItem.html">BoredomAgendaItem</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/ConvAgendaItem.html">ConvAgendaItem</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/FactAgendaItem.html">FactAgendaItem</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/DelayedAgendaItem.html">DelayedAgendaItem</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/FollowAgendaItem.html">FollowAgendaItem</a></code><br>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#agendaOrder">agendaOrder</a>&nbsp; 
<a href="#calledBy">calledBy</a>&nbsp; 
<a href="#endCondition">endCondition</a>&nbsp; 
<a href="#executeOnce">executeOnce</a>&nbsp; 
<a href="#initiallyActive">initiallyActive</a>&nbsp; 
<a href="#invokedByActor">invokedByActor</a>&nbsp; 
<a href="#isDone">isDone</a>&nbsp; 
<a href="#isReady">isReady</a>&nbsp; 
<a href="#name">name</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#actorSay">actorSay</a>&nbsp; 
<a href="#getActor">getActor</a>&nbsp; 
<a href="#initiateConversation">initiateConversation</a>&nbsp; 
<a href="#invokeItem">invokeItem</a>&nbsp; 
<a href="#invokeItemBase">invokeItemBase</a>&nbsp; 
<a href="#registerItem">registerItem</a>&nbsp; 
<a href="#report">report</a>&nbsp; 
<a href="#resetItem">resetItem</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="agendaOrder"></a>
<table class=decl><tr><td><code>agendaOrder</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7160">7160</a>]</table><div class=desc>   The ordering of the item relative to other agenda items.  When we   choose an agenda item to execute, we always choose the lowest   numbered item that's ready to run.  You can leave this with the   default value if you don't care about the order. <p>
</div>
<a name="calledBy"></a>
<table class=decl><tr><td><code>calledBy</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7217">7217</a>]</table><div class=desc>The object from whose agendaList this AgendaItem was invoked<p>
</div>
<a name="endCondition"></a>
<table class=decl><tr><td><code>endCondition</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7149">7149</a>]</table><div class=desc>   If specified, an expression or method that evaluates to true when this AgendaItem has   oompleted its task and wants to set isDone to true. This is checked both immediately before   and immediately after invokeItem() is called (since calling invokeItem might change the   game state). This is provided as a conveniant alteranative to handling isDone from with   invokeItem(), which may still be necessary in some cases, such as when you want an   AgendaItem simply to execute once (although you can also use the executeOnce property for   that). <p>
</div>
<a name="executeOnce"></a>
<table class=decl><tr><td><code>executeOnce</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7152">7152</a>]</table><div class=desc>Flag: do we want this AgendaItem to execute once and once only?<p>
</div>
<a name="initiallyActive"></a>
<table class=decl><tr><td><code>initiallyActive</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7113">7113</a>]</table><div class=desc>   Is this item active at the start of the game?  Override this to   true to make the item initially active; we'll add it to the   actor's agenda during the game's initialization. <p>
</div>
<a name="invokedByActor"></a>
<table class=decl><tr><td><code>invokedByActor</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7214">7214</a>]</table><div class=desc>   invokeItem can test the invokedByActor property to decide whether what   the actor says should be a conversational gambit started on the actor's   own initiative or as a (default) response to something the pc has just <p>
</div>
<a name="isDone"></a>
<table class=decl><tr><td><code>isDone</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7138">7138</a>]</table><div class=desc>   Is this item done?  On each turn, we'll remove any items marked as done from the actor's   agenda list.  We remove items marked as done before executing any items, so done-ness   overrides readiness; in other words, if an item is both 'done' and 'ready', it'll simply be   removed from the list and will not be executed. <p>   By default, we simply return nil.  Items can override this to provide a declarative   condition of done-ness, or they can simply set the property to true when they finish their   work.  For example, an item that only needs to execute once can simply set isDone to true   in its invokeItem() method; an item that's to be repeated until some success condition   obtains can override isDone to return the success condition. <p>   In some cases, it may be more convenient to set the endCondirion property to define when   isDone should be set to true. <p>
</div>
<a name="isReady"></a>
<table class=decl><tr><td><code>isReady</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7121">7121</a>]</table><div class=desc>   Is this item ready to execute?  The actor will only execute an   agenda item when this condition is met.  By default, we're ready   to execute.  Items can override this to provide a declarative   condition of readiness if desired. <p>
</div>
<a name="name"></a>
<table class=decl><tr><td><code>name</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7248">7248</a>]</table><div class=desc>An optional tag, specified as a single-quoted string.<p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="actorSay"></a>
<table class=decl><tr><td><code>actorSay (msg)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7262">7262</a>]</table><div class=desc>   Another convensence method; calling actorSay() on an AgendaItem calls actorSay() on its   associated Actor. <p>
</div>
<a name="getActor"></a>
<table class=decl><tr><td><code>getActor ( )</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7106">7106</a>]</table><div class=desc>   My actor - agenda items should be nested within the actor using   '+' so that we can find our actor.  Note that this doesn't add the   item to the actor's agenda - that has to be done explicitly with   actor.addToAgenda(). <p>
</div>
<a name="initiateConversation"></a>
<table class=decl><tr><td><code>initiateConversation (state, str)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7265">7265</a>]</table><div class=desc>Calling initiateConversation) on its aasociated Actor.<p>
</div>
<a name="invokeItem"></a>
<table class=decl><tr><td><code>invokeItem ( )</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7225">7225</a>]</table><div class=desc>   Execute this item.  This is invoked during the actor's turn when the   item is the first item that's ready to execute in the actor's agenda   list.  We do nothing by default. <p> <p>
</div>
<a name="invokeItemBase"></a>
<table class=decl><tr><td><code>invokeItemBase (caller)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7168">7168</a>]</table><div class=desc>   The caller is passed as a parameter so we can tell whether we're being   called from an Actor or from a DefaultAgendaTopic, which may affect   what we want to do -- for example the wording of what the actor says at   this point. <p>
</div>
<a name="registerItem"></a>
<table class=decl><tr><td><code>registerItem ( )</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7245">7245</a>]</table><div class=desc>   Carry out any additional registration when we're added to our actor's   agenda. We do nothing here, but this is needed on FollowAgendaItem. <p>
</div>
<a name="report"></a>
<table class=decl><tr><td><code>report (msg, prop, =, &, canSee)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7256">7256</a>]</table><div class=desc>   A convenience method that can be used from within our invokeItem to   display some text only if the player character can see us (or, if the   optional second parameter is supplied, sense us through some other   sense, e.g. &amp;canHear or &amp;canSmell). <p>
</div>
<a name="resetItem"></a>
<table class=decl><tr><td><code>resetItem ( )</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#7234">7234</a>]</table><div class=desc>   Reset the item.  This is invoked whenever the item is added to an   actor's agenda.  By default, we'll set isDone to nil as long as   isDone isn't a method; this makes it easier to reuse agenda   items, since we don't have to worry about clearing out the isDone   flag when reusing an item. <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 08/12/2025 from adv3Lite version 2.2.2</div>
</body>
</html>
