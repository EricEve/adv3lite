<html><head><link rel=stylesheet type="text/css" href="../libref.css"><title>tads.h</title></head><body>
<table class=ban><tr><td><h1>tads.h</h1><td align=right><a href="../file/tads.h.html">documentation</a></table><pre>
<a name="1"></a>#charset "us-ascii"
<a name="2"></a>#pragma once
<a name="3"></a>
<a name="4"></a>/* 
<a name="5"></a> *   Copyright (c) 1999, 2006 Michael J. Roberts
<a name="6"></a> *.  This file is part of TADS 3.
<a name="7"></a> *   
<a name="8"></a> *   This file includes all of the standard TADS system headers, so programs
<a name="9"></a> *   can include this header alone rather than having to include all of the
<a name="10"></a> *   separate headers individually.  
<a name="11"></a> */
<a name="12"></a>
<a name="13"></a>
<a name="14"></a>/*
<a name="15"></a> *   To allow the standard library and header files to be used with
<a name="16"></a> *   alternative I/O intrinsics, we explicitly use macros for the I/O
<a name="17"></a> *   dependencies in the library - specifically, the I/O intrinsic header
<a name="18"></a> *   file name, and the name of the default stream output function.
<a name="19"></a> *   
<a name="20"></a> *   We define defaults for these if they aren't otherwise defined.  To
<a name="21"></a> *   compile library files with an alternative set of I/O intrinsics, define
<a name="22"></a> *   these symbols in the compiler (for example, by using the -D command-line
<a name="23"></a> *   option with t3make).  
<a name="24"></a> */
<a name="25"></a>#ifndef TADS_IO_HEADER
<a name="26"></a>#define TADS_IO_HEADER "tadsio.h"
<a name="27"></a>#endif
<a name="28"></a>#ifndef _tads_io_say
<a name="29"></a>#define _tads_io_say(str) tadsSay(str)
<a name="30"></a>#endif
<a name="31"></a>
<a name="32"></a>
<a name="33"></a>/* include the T3 VM intrinsic function set */
<a name="34"></a>#include "t3.h"
<a name="35"></a>
<a name="36"></a>/* include the TADS general data manipulation function set */
<a name="37"></a>#include "tadsgen.h"
<a name="38"></a>
<a name="39"></a>/* include the TADS input/output function set */
<a name="40"></a>#include TADS_IO_HEADER
<a name="41"></a>
<a name="42"></a>/* include the system type definitions */
<a name="43"></a>#include "systype.h"
<a name="44"></a>
<a name="45"></a>/* if we're building a network program, include the net headers */
<a name="46"></a>#ifdef TADS_INCLUDE_NET
<a name="47"></a>#include &lt;tadsnet.h&gt;
<a name="48"></a>#include &lt;httpsrv.h&gt;
<a name="49"></a>#include &lt;httpreq.h&gt;
<a name="50"></a>#endif
<a name="51"></a>
<a name="52"></a>
<a name="53"></a>/* ------------------------------------------------------------------------ */
<a name="54"></a>/*
<a name="55"></a> *   Break out of a callback iteration, such as a forEachInstance() loop.
<a name="56"></a> *   This can be used within the callback code to break out of the loop.  
<a name="57"></a> */
<a name="58"></a>#define breakLoop throw BreakLoopSignal
<a name="59"></a>
<a name="60"></a>
<a name="61"></a>/* ------------------------------------------------------------------------ */
<a name="62"></a>/*
<a name="63"></a> *   Define a property value using an expression that's evaluated once per
<a name="64"></a> *   instance of the class where the property is defined.  This is used like
<a name="65"></a> *   so:
<a name="66"></a> *   
<a name="67"></a> *   class MyClass: MySuperClass
<a name="68"></a> *.    prop1 = perInstance(new SubObject())
<a name="69"></a> *.  ;
<a name="70"></a> *   
<a name="71"></a> *   Now, for each instance of MyClass, prop1 will be set to a separate
<a name="72"></a> *   instance of SubObject.
<a name="73"></a> *   
<a name="74"></a> *   Note that the per-instance property value is set "on demand" in each
<a name="75"></a> *   instance.  This means that a particular instance's copy of the property
<a name="76"></a> *   will be set when the property is first evaluated.  Note in particular
<a name="77"></a> *   that the value won't necessary be computed at compile time or during
<a name="78"></a> *   pre-initialization, because the value for a particular instance won't be
<a name="79"></a> *   calculated until the property is first used for a that instance.  
<a name="80"></a> */
<a name="81"></a>#define perInstance(expr) (self.(targetprop) = (expr))
<a name="82"></a>
<a name="83"></a>
</pre>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 13/06/2025 from adv3Lite version 2.2.1</div>
</body>
</html>
