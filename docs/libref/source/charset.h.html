<html><head><link rel=stylesheet type="text/css" href="../libref.css"><title>charset.h</title></head><body>
<table class=ban><tr><td><h1>charset.h</h1><td align=right><a href="../file/charset.h.html">documentation</a></table><pre>
<a name="1"></a>#charset "us-ascii"
<a name="2"></a>#pragma once
<a name="3"></a>
<a name="4"></a>/*
<a name="5"></a> *   Copyright (c) 2001, 2006 Michael J. Roberts
<a name="6"></a> *   
<a name="7"></a> *   This file is part of TADS 3.
<a name="8"></a> *   
<a name="9"></a> *   This header defines the CharacterSet intrinsic class.  
<a name="10"></a> */
<a name="11"></a>
<a name="12"></a>
<a name="13"></a>/* include our base class definition */
<a name="14"></a>#include "systype.h"
<a name="15"></a>
<a name="16"></a>/*
<a name="17"></a> *   The CharacterSet intrinsic class provides information on character set
<a name="18"></a> *   translations and can be used to translate between the Unicode character
<a name="19"></a> *   set that the T3 VM uses internally for string values and the local
<a name="20"></a> *   character set or sets used for display, keyboard input, and file I/O.  
<a name="21"></a> */
<a name="22"></a>intrinsic class CharacterSet 'character-set/030001': Object
<a name="23"></a>{
<a name="24"></a>    /*
<a name="25"></a>     *   Constructor:
<a name="26"></a>     *   
<a name="27"></a>     *   new CharacterSet(charsetName) - creates an object to represent the
<a name="28"></a>     *   named local character set.  Certain common character set names are
<a name="29"></a>     *   built into the system:
<a name="30"></a>     *   
<a name="31"></a>     *   us-ascii - the plain 7-bit ASCII character set
<a name="32"></a>     *.  latin1 - 8-bit Western Europe extended ASCII (also called ISO 8859-1)
<a name="33"></a>     *.  utf-8 - Unicode UTF-8 (varying byte length Unicode encoding)
<a name="34"></a>     *.  utf-16le - little-endian 16-bit Unicode
<a name="35"></a>     *.  utf-16be - big-endian 16-bit Unicode
<a name="36"></a>     *   
<a name="37"></a>     *   You can extend this basic set using mapping files.  You can create
<a name="38"></a>     *   your own mapping files (see the System Manual to learn how), so
<a name="39"></a>     *   there's essentially no limit to the character sets that TADS can
<a name="40"></a>     *   work with.  You'll probably never need to create your own custom
<a name="41"></a>     *   mappings, though, because the standard TADS distributions include a
<a name="42"></a>     *   large set of pre-built mappings that cover most systems currently in
<a name="43"></a>     *   use.  The standard set includes the various ISO 8859 variants, plus
<a name="44"></a>     *   proprietary code pages for Windows, DOS, and Mac OS.
<a name="45"></a>     *   
<a name="46"></a>     *   If the named mapping doesn't exist, a CharacterSet object will still
<a name="47"></a>     *   be created, but it'll throw an error (UnknownCharacterSetException)
<a name="48"></a>     *   if you attempt to use it to perform any mappings.  You can determine
<a name="49"></a>     *   if the mapping exists with the isMappingKnown method.  
<a name="50"></a>     */
<a name="51"></a>
<a name="52"></a>    /*
<a name="53"></a>     *   Get the name of the character set.  This simply returns the name
<a name="54"></a>     *   that was given to construct the character set. 
<a name="55"></a>     */
<a name="56"></a>    getName();
<a name="57"></a>
<a name="58"></a>    /*
<a name="59"></a>     *   Determine if the mapping is known.  This returns true if the
<a name="60"></a>     *   character set has a known local mapping, nil if not.  Note that it
<a name="61"></a>     *   doesn't matter whether or not the character set is actually in use
<a name="62"></a>     *   on the local platform; all that matters is that a T3 mapping file
<a name="63"></a>     *   is available on this machine. 
<a name="64"></a>     */
<a name="65"></a>    isMappingKnown();
<a name="66"></a>
<a name="67"></a>    /*
<a name="68"></a>     *   Determine if a character or string of characters is mappable to this
<a name="69"></a>     *   character set.  If the input is an integer, it represents the
<a name="70"></a>     *   Unicode character code for a single character; if the input is a
<a name="71"></a>     *   string, each character in the string is checked.  This returns true
<a name="72"></a>     *   if every character given has a valid mapping in the local character
<a name="73"></a>     *   set, nil if not.  Note that if a string is given, and even one
<a name="74"></a>     *   character is not mappable, this returns nil.  
<a name="75"></a>     */
<a name="76"></a>    isMappable(val);
<a name="77"></a>
<a name="78"></a>    /*
<a name="79"></a>     *   Determine if a character or string of characters is "round-trip"
<a name="80"></a>     *   mappable to this character set.  If the input is an integer, it
<a name="81"></a>     *   represents a Unicode character code to be tested; if the input is a
<a name="82"></a>     *   string, each character in the string is tested.  Returns true if
<a name="83"></a>     *   every character given has a valid round-trip mapping, nil if not.
<a name="84"></a>     *   
<a name="85"></a>     *   A character has a round-trip mapping if it can be mapped to this
<a name="86"></a>     *   local character set and then back to Unicode to yield the original
<a name="87"></a>     *   character.  If a character has a round-trip mapping, then in general
<a name="88"></a>     *   the character has an exact representation in the local character set
<a name="89"></a>     *   (as opposed to an approximation: if 'a-umlaut' maps to a simple
<a name="90"></a>     *   unaccented 'a', or to 'ae', then it has only an approximated
<a name="91"></a>     *   representation).  
<a name="92"></a>     */
<a name="93"></a>    isRoundTripMappable(val);
<a name="94"></a>}
<a name="95"></a>
</pre>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 26/02/2025 from adv3Lite version 2.2</div>
</body>
</html>
