<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>RandomFiringScript</title></head><body>
<table class=ban><tr><td align=left><span class=title>RandomFiringScript</span><span class=type>class</span><td align=right><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#49">49</a>], <a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#475">475</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   Random-Firing script add-in.  This is a mix-in class that you can add   to the superclass list of any Script subclass to make the script   execute only a given percentage of the time it's invoked.  Each time   doScript() is invoked on the script, we'll look at the probability   settings (see the properties below) to determine whether we really   want to execute the script this time; if so, we'll proceed with the   scripted event, otherwise we'll just return immediately, doing   nothing. <p>   Note that this must be used in the superclass list *before* the Script   subclass: <p>   myScript: RandomFiringScript, EventList <br>   // ...my definitions... <br> ; <p>   This class is especially useful for random atmospheric events, because   it allows you to make the timing of scripted events random.  Rather   than making a scripted event happen on every single turn, you can use   this to make events happen only sporadically.  It can often feel too   predictable and repetitious when a random background event happens on   every single turn; firing events less frequently often makes them feel   more realistic. 
<p>
<code>class 
<b>RandomFiringScript</b> :  &nbsp; object</code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>RandomFiringScript</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<code><b>RandomFiringScript</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/RandomEventList.html">RandomEventList</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/ShuffledEventList.html">ShuffledEventList</a></code><br>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#eventPercent">eventPercent</a>&nbsp; 
<a href="#eventReduceAfter">eventReduceAfter</a>&nbsp; 
<a href="#eventReduceTo">eventReduceTo</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#checkEventOdds">checkEventOdds</a>&nbsp; 
<a href="#doScript">doScript</a>&nbsp; 
<a href="#underusedReadyELIidx">underusedReadyELIidx</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="eventPercent"></a>
<table class=decl><tr><td><code>eventPercent</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#65">65</a>]</table><div class=desc>   Percentage of the time an event occurs.  By default, we execute an   event 100% of the time - meaning every time that doScript() is   invoked.  If you set this to a lower percentage, then each time   doScript() is invoked, we'll randomly decide whether or not to   execute an event based on this percentage.  For example, if you   want an event to execute on average about a third of the time, set   this to 33. <p>   Note that this is a probabilistic frequency.  Setting this to 33   does *not* mean that we'll execute exactly every third time.   Rather, it means that we'll randomly execute or not on each   invocation, and averaged over a large number of invocations, we'll   execute about a third of the time. <p>
</div>
<a name="eventReduceAfter"></a>
<table class=decl><tr><td><code>eventReduceAfter</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#80">80</a>]</table><div class=desc>   Random atmospheric events can get repetitive after a while, so we   provide an easy way to reduce the frequency of our events after a   while.  This way, we'll generate the events more frequently at   first, but once the player has seen them enough to get the idea,   we'll cut back.  Sometimes, the player will spend a lot of time in   one place trying to solve a puzzle, so the same set of random   events can get stale.  Set eventReduceAfter to the number of times   you want the events to be generated at full frequency; after we've   fired events that many times, we'll change eventPercent to   eventReduceTo.  If eventReduceAfter is nil, we won't ever change   eventPercent. <p>
</div>
<a name="eventReduceTo"></a>
<table class=decl><tr><td><code>eventReduceTo</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#81">81</a>]</table><div class=desc><i>no description available</i><p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="checkEventOdds"></a>
<table class=decl><tr><td><code>checkEventOdds ( )</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#98">98</a>]</table><div class=desc>   Check the event odds to see if we want to fire an event at all on   this invocation. <p>
</div>
<a name="doScript"></a>
<table class=decl><tr><td><code>doScript ( )</code><td align=right><code><a href="../file/eventList.t.html">eventList.t</a>[<a href="../source/eventList.t.html#87">87</a>]</table><div class=desc>   When doScript() is invoked, check the event probabilities before   proceeding. <p>
</div>
<a name="underusedReadyELIidx"></a>
<table class=decl><tr><td><code>underusedReadyELIidx ( )</code><td align=right><code><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#481">481</a>]</table><div class=desc>   Return the index within our eventList of any as yet unused EventListItem that's ready to   fire. This is principally for the use of our RandomEventList and ShuffledEventList   subclasses. <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 25/04/2024 from adv3Lite version 2.0</div>
</body>
</html>
