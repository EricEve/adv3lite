<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>Fact</title></head><body>
<table class=ban><tr><td align=left><span class=title>Fact</span><span class=type>class</span><td align=right><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#21">21</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   A Fact encapsulates an item of knowledge (or supposed knowledge) keyed on the fact tags in the   appropriate object's informedNameTab. Note that for the purposes of thid module, a Fact is not   something that is necessarily true, but simply somethhing that some actor or Consultable in the   game has asserted to be true. 
<p>
<code>class 
<b>Fact</b> :  &nbsp; object</code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>Fact</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#adjustedPriority">adjustedPriority</a>&nbsp; 
<a href="#defaultTruthValue">defaultTruthValue</a>&nbsp; 
<a href="#desc">desc</a>&nbsp; 
<a href="#initiallyKnownBy">initiallyKnownBy</a>&nbsp; 
<a href="#listOrder">listOrder</a>&nbsp; 
<a href="#name">name</a>&nbsp; 
<a href="#pcComment">pcComment</a>&nbsp; 
<a href="#pcCommentTab">pcCommentTab</a>&nbsp; 
<a href="#priority">priority</a>&nbsp; 
<a href="#sourcepat">sourcepat</a>&nbsp; 
<a href="#sourcesListed">sourcesListed</a>&nbsp; 
<a href="#sourcesTab">sourcesTab</a>&nbsp; 
<a href="#targetsTab">targetsTab</a>&nbsp; 
<a href="#topics">topics</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#addSource">addSource</a>&nbsp; 
<a href="#addTarget">addTarget</a>&nbsp; 
<a href="#currentlyKnownBy">currentlyKnownBy</a>&nbsp; 
<a href="#getPcComment">getPcComment</a>&nbsp; 
<a href="#getSources">getSources</a>&nbsp; 
<a href="#getTargets">getTargets</a>&nbsp; 
<a href="#initializeFact">initializeFact</a>&nbsp; 
<a href="#qualifiedDesc">qualifiedDesc</a>&nbsp; 
<a href="#setPcComment">setPcComment</a>&nbsp; 
<a href="#sourceIntro">sourceIntro</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="adjustedPriority"></a>
<table class=decl><tr><td><code>adjustedPriority</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#352">352</a>]</table><div class=desc>   Deduct our listOrder from our priority to get the adjustedPriority that will actualy be   used to sort facts in the desired order. This allows game authors to use either property   (or possibly a combination of both) to determine the listing order. <p>
</div>
<a name="defaultTruthValue"></a>
<table class=decl><tr><td><code>defaultTruthValue</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#92">92</a>]</table><div class=desc>   The truth value that most characters in this game are likely to assign to this fact. The   other possible values defined in the library are likely, dubious, unlikely and untrue. Game   authors are free to invent other values if they wish. <p>
</div>
<a name="desc"></a>
<table class=decl><tr><td><code>desc</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#29">29</a>]</table><div class=desc>   Our descripition. This should a single-quoted string with no closing punctuation that could   follow 'that'; for example 'Spain is a country in Europe' or 'it rained yesterday' <p>
</div>
<a name="initiallyKnownBy"></a>
<table class=decl><tr><td><code>initiallyKnownBy</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#85">85</a>]</table><div class=desc>   The list of actors and other objects - typically Consultables - that start the game knowing   about us. If any actors in the list should start out dissenting from the defaultTruthValue for this fact then this can be set by using two item list of the form [actor, value] in place of just the actor, e.g. you could have [me, bob, susan, [thomas, dubious]]. <p>
</div>
<a name="listOrder"></a>
<table class=decl><tr><td><code>listOrder</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#345">345</a>]</table><div class=desc>   Alternatively we can use our list order to determine the order in which facts will be   listed. By default we use give everything a list order of 1. <p>
</div>
<a name="name"></a>
<table class=decl><tr><td><code>name</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#23">23</a>]</table><div class=desc>Our name is the fact tag (used in gInformed() stateement or the like) that identifies us.<p>
</div>
<a name="pcComment"></a>
<table class=decl><tr><td><code>pcComment</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#290">290</a>]</table><div class=desc>   A single-quoted string containing the initial player character's initial comment or thought   on this Fact; this can be left at nil if the PC doesn't have one. This will be appended to   the description of this Fact when listed by a Thought, so should be a sentence fragment   starting with a lower case letter (or some form of parenthetic punctuation) and without a   full stop at the end. <p>
</div>
<a name="pcCommentTab"></a>
<table class=decl><tr><td><code>pcCommentTab</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#297">297</a>]</table><div class=desc>   A table containing platey characters' comments on this Fact. We use a LookpTable here in   case the player character changes, so we can retrieve the comment relevant to the current   player character <p>
</div>
<a name="priority"></a>
<table class=decl><tr><td><code>priority</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#339">339</a>]</table><div class=desc>   Our priority (what is our relevant importance). Facts with a higher priority will be listed   earlier in any list of facts. We set a defaul priority of 100. <p>
</div>
<a name="sourcepat"></a>
<table class=decl><tr><td><code>sourcepat</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#73">73</a>]</table><div class=desc>   Our RexPattern for searching for a string of characters between square brackets, e.g. [bob] <p>
</div>
<a name="sourcesListed"></a>
<table class=decl><tr><td><code>sourcesListed</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#280">280</a>]</table><div class=desc>Return the string that results.<p>
</div>
<a name="sourcesTab"></a>
<table class=decl><tr><td><code>sourcesTab</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#150">150</a>]</table><div class=desc>   LookUpTable containing lists of which sources have imparted this Fact to which actor;   actor defaults to gPlayerChar we use a LookUpTable here in case the player character   changes during the courss of play. <p>
</div>
<a name="targetsTab"></a>
<table class=decl><tr><td><code>targetsTab</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#157">157</a>]</table><div class=desc>   LookUpTable containing lists of whom actor has imparted this Fact; actor defaults to   gPlayerChar we use a LookUpTable here in case the player character changes during the   courss of play. <p>
</div>
<a name="topics"></a>
<table class=decl><tr><td><code>topics</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#77">77</a>]</table><div class=desc>The list of topics (Topics and Things, i.e. game objects) that this fact relates to.<p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="addSource"></a>
<table class=decl><tr><td><code>addSource (source, actor, =, gPlayerChar)</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#160">160</a>]</table><div class=desc>Add a source (of information) to our sourcesTab table.<p>
</div>
<a name="addTarget"></a>
<table class=decl><tr><td><code>addTarget (target, actor, =, gPlayerChar)</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#181">181</a>]</table><div class=desc>Add a target to our targetTab table<p>
</div>
<a name="currentlyKnownBy"></a>
<table class=decl><tr><td><code>currentlyKnownBy ( )</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#95">95</a>]</table><div class=desc>Obtain a list of everything that knows this fact<p>
</div>
<a name="getPcComment"></a>
<table class=decl><tr><td><code>getPcComment (source, topic)</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#306">306</a>]</table><div class=desc>   Get the current player character's comment on this Fact; source is the source from which   the PC learned the Fact and topic is the topic the Player Character is thinking about. By   default this method returns different results for different player characters, but game   code will need to override this method to return different comments for different sources   and/or topics. <p>
</div>
<a name="getSources"></a>
<table class=decl><tr><td><code>getSources (actor, =, gPlayerChar)</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#205">205</a>]</table><div class=desc>   Get a list of the sources who have imparted this Fact to actor; actor dafaults to the   player character and must normally have been the player character at some point for this to   return anything but an empty list. <p>
</div>
<a name="getTargets"></a>
<table class=decl><tr><td><code>getTargets (actor, =, gPlayerChar)</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#215">215</a>]</table><div class=desc>   Get a list of the targets actor has imparted this Fact to; actor dafaults to the player   character and must normally have been the player character at some point for this to return   anything but an empty list. <p>
</div>
<a name="initializeFact"></a>
<table class=decl><tr><td><code>initializeFact ( )</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#113">113</a>]</table><div class=desc>Initialise this fact at preInit.<p>
</div>
<a name="qualifiedDesc"></a>
<table class=decl><tr><td><code>qualifiedDesc (source, topic, sender)</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#42">42</a>]</table><div class=desc>   We can if we wish vary the way this fact is described according to the source that's   supplying it and the topic matched by the TopicEntry that's called this method; by default   we just return desc here. Note that any such variation shouldn't change the content of the   description but only the way it's phrased; e.g. 'Madrid is the capital of Spain' rather   than 'the capital of Spain is Madrid' depending on whether the topic is Madrid or Spain. <p>   By default we try to adapt the desc to the source and sender if it contains an   actorParamName in square brackets, e.g. [bob], which we replace with 'Bob', 'I' or 'he'   according to context <p>
</div>
<a name="setPcComment"></a>
<table class=decl><tr><td><code>setPcComment (actor, txt)</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#324">324</a>]</table><div class=desc>   Set actor's comment on this fact; normally actor will be the current player character; txt   is a single-quoted string containing the comment, which will usually be appended to the   description of the fact. <p>
</div>
<a name="sourceIntro"></a>
<table class=decl><tr><td><code>sourceIntro (listSources)</code><td align=right><code><a href="../file/facts.t.html">facts.t</a>[<a href="../source/facts.t.html#226">226</a>]</table><div class=desc>   If our caller wants to list sources of information (listSources = true), then return a   string containing a suitably formatted list of sources; otherwise return nil. This can then   be used by TopicEntries (typically Thoughts) that want to list the sources of information   along with the content of that information. <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 25/04/2024 from adv3Lite version 2.0</div>
</body>
</html>
