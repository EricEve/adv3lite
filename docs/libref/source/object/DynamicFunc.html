<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>DynamicFunc</title></head><body>
<table class=ban><tr><td align=left><span class=title>DynamicFunc</span><span class=type>class</span><td align=right><a href="../file/dynfunc.h.html">dynfunc.h</a>[<a href="../source/dynfunc.h.html#75">75</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   The DynamicFunc class is used to create new functions from source code   strings dynamically at run-time.  To create a new executable function,   create a new DynamicFunc object: <p> <br>   local f = new DynamicFunc('function(x) { return x*2; }', <br>                             globals, locals, macros); <p>   The first constructor argument is a string giving the source code to   compile. <p>   The optional second argument is a LookupTable containing the global   symbols for the compilation.  This can be the table returned from   t3GetGlobalSymbols(), or it can be a custom table.  The compiler looks   up string keys in the table to resolve global symbol names; the   corresponding values can be objects, properties, enum values, or   function pointers. <p>   The optional third argument is a StackFrameDesc object, or a list of   StackFrameDesc objects, giving the stack frames to use for local   variable access within the dynamic code.  The source code can refer to   local variables in these frames, and can assign new values to them.   This is analogous to the way anonymous functions can refer to local   variables in their lexically enclosing scopes.  If you supply a list,   the compiler searches the frames in order of their appearance in the   list.  If a variable appears in more than one frame in the list, the   compiler will use the first occurrence it finds. <p>   The optional fourth argument is a LookupTable giving the preprocessor   macros to use for the compilation.  This is a table in the format   returned by t3GetGlobalsSymbols(T3PreprocMacros). <p>   If the 'symtab' or 'macros' arguments are omitted or nil, the   compilation is done without global symbols or macros, respectively.   Note that built-in functions and intrinsic classes are identified by   global symbols, so you won't be able to call any built-ins if you don't   provide a symbol table. <p>   The source code string can start with the keyword 'function', followed   by a list of parameter names, followed by the executable statements in   braces.  Or, it can simply be a list of statements, in which case it's a   function with no arguments, as though it started with 'function()'. <p>   Creating a DynamicFunc compiles the source code.  If a compilation error   occurs (such as a syntax error, or an unknown symbol reference), the   'new' call will throw a CompilerException error.  The exception object   contains information on the specific compiler error. <p>   To invoke the new function, simply use the standard function call syntax   on the object value, as though it were a regular function pointer: <p> <br>    local y = f(7); 
<p>
<code>intrinsic class 
<b>DynamicFunc</b> : </code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>DynamicFunc</b></code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
</code><p>
<i>(none)</i>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#getSource">getSource</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="getSource"></a>
<table class=decl><tr><td><code>getSource ( )</code><td align=right><code><a href="../file/dynfunc.h.html">dynfunc.h</a>[<a href="../source/dynfunc.h.html#81">81</a>]</table><div class=desc>   Get the original source code of the function.  This returns the   string that was used as the source string to create the function. <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 25/04/2024 from adv3Lite version 2.0</div>
</body>
</html>
