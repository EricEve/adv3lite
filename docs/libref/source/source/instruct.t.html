<html><head><link rel=stylesheet type="text/css" href="../libref.css"><title>instruct.t</title></head><body>
<table class=ban><tr><td><h1>instruct.t</h1><td align=right><a href="../file/instruct.t.html">documentation</a></table><pre>
<a name="1"></a>#charset "us-ascii"
<a name="2"></a>
<a name="3"></a>/* 
<a name="4"></a> *   Copyright (c) 2000, 2006 Michael J. Roberts.  All Rights Reserved. 
<a name="5"></a> *   Slightly adapted by Eric Eve for use with adv3Lite
<a name="6"></a> *   
<a name="7"></a> *   TADS 3 Library: Instructions for new players
<a name="8"></a> *   
<a name="9"></a> *   This module defines the INSTRUCTIONS command, which provides the
<a name="10"></a> *   player with an overview of how to play IF games in general.  These
<a name="11"></a> *   instructions are especially designed as an introduction to IF for
<a name="12"></a> *   inexperienced players.  The instructions given here are meant to be
<a name="13"></a> *   general enough to apply to most games that follow the common IF
<a name="14"></a> *   conventions. 
<a name="15"></a> *   
<a name="16"></a> *   This module defines the English version of the instructions.
<a name="17"></a> *   
<a name="18"></a> *   In most cases, each author should customize these general-purpose
<a name="19"></a> *   instructions at least a little for the specific game.  We provide a
<a name="20"></a> *   few hooks for some specific parameter-driven customizations that don't
<a name="21"></a> *   require modifying the original text in this file.  Authors should also
<a name="22"></a> *   feel free to make more extensive customizations as needed to address
<a name="23"></a> *   areas where the game diverges from the common conventions described
<a name="24"></a> *   here.
<a name="25"></a> *   
<a name="26"></a> *   One of the most important things you should do to customize these
<a name="27"></a> *   instructions for your game is to add a list of any special verbs or
<a name="28"></a> *   command phrasings that your game uses.  Of course, you might think
<a name="29"></a> *   you'll be spoiling part of the challenge for the player if you do
<a name="30"></a> *   this; you might worry that you'll give away a puzzle if you don't keep
<a name="31"></a> *   a certain verb secret.  Be warned, though, that many players - maybe
<a name="32"></a> *   even most - don't think "guess the verb" puzzles are good challenges;
<a name="33"></a> *   a lot of players feel that puzzles that hinge on finding the right
<a name="34"></a> *   verb or phrasing are simply bad design that make a game less
<a name="35"></a> *   enjoyable.  You should think carefully about exactly why you don't
<a name="36"></a> *   want to disclose a particular verb in the instructions.  If you want
<a name="37"></a> *   to withhold a verb because the entire puzzle is to figure out what
<a name="38"></a> *   command to use, then you have created a classic guess-the-verb puzzle,
<a name="39"></a> *   and most everyone in the IF community will feel this is simply a bad
<a name="40"></a> *   puzzle that you should omit from your game.  If you want to withhold a
<a name="41"></a> *   verb because it's too suggestive of a particular solution, then you
<a name="42"></a> *   should at least make sure that a more common verb - one that you are
<a name="43"></a> *   willing to disclose in the instructions, and one that will make as
<a name="44"></a> *   much sense to players as your secret verb - can achieve the same
<a name="45"></a> *   result.  You don't have to disclose every *accepted* verb or phrasing
<a name="46"></a> *   - as long as you disclose every *required* verb *and* phrasing, you
<a name="47"></a> *   will have a defense against accusations of using guess-the-verb
<a name="48"></a> *   puzzles.
<a name="49"></a> *   
<a name="50"></a> *   You might also want to mention the "cruelty" level of the game, so
<a name="51"></a> *   that players will know how frequently they should save the game.  It's
<a name="52"></a> *   helpful to point out whether or not it's possible for the player
<a name="53"></a> *   character to be killed; whether it's possible to get into situations
<a name="54"></a> *   where the game becomes "unwinnable"; and, if the game can become
<a name="55"></a> *   unwinnable, whether or not this will become immediately clear.  The
<a name="56"></a> *   kindest games never kill the PC and are always winnable, no matter
<a name="57"></a> *   what actions the player takes; it's never necessary to save these
<a name="58"></a> *   games except to suspend a session for later resumption.  The cruelest
<a name="59"></a> *   games kill the PC without warning (although if they offer an UNDO
<a name="60"></a> *   command from a "death" prompt, then even this doesn't constitute true
<a name="61"></a> *   cruelty), and can become unwinnable in ways that aren't readily and
<a name="62"></a> *   immediately apparent to the player, which means that the player could
<a name="63"></a> *   proceed for quite some time (and thus invest substantial effort) after
<a name="64"></a> *   the game is already effectively lost.  Note that unwinnable situations
<a name="65"></a> *   can often be very subtle, and might not even be intended by the
<a name="66"></a> *   author; for example, if the player needs a candle to perform an
<a name="67"></a> *   exorcism at some point, but the candle can also be used for
<a name="68"></a> *   illumination in dark areas, the player could make the game unwinnable
<a name="69"></a> *   simply by using up the candle early on while exploring some dark
<a name="70"></a> *   tunnels, and might not discover the problem until much further into
<a name="71"></a> *   the game.  
<a name="72"></a> */
<a name="73"></a>
<a name="74"></a>#include "advlite.h"
<a name="75"></a>
<a name="76"></a>
<a name="77"></a>/*
<a name="78"></a> *   The INSTRUCTIONS command.  Make this a "system" action, because it's
<a name="79"></a> *   a meta-action outside of the story.  System actions don't consume any
<a name="80"></a> *   game time.  
<a name="81"></a> */
<a name="82"></a>DefineSystemAction(Instructions)
<a name="83"></a>    /*
<a name="84"></a>     *   This property tells us how complete the verb list is.  By default,
<a name="85"></a>     *   we'll assume that the instructions fail to disclose every required
<a name="86"></a>     *   verb in the game, because the generic set we use here doesn't even
<a name="87"></a>     *   try to anticipate the special verbs that most games include.  If
<a name="88"></a>     *   you provide your own list of game-specific verbs, and your custom
<a name="89"></a>     *   list (taken together with the generic list) discloses every verb
<a name="90"></a>     *   required to complete the game, you should set this property to
<a name="91"></a>     *   true; if you set this to true, the instructions will assure the
<a name="92"></a>     *   player that they will not need to think of any verbs besides the
<a name="93"></a>     *   ones listed in the instructions.  Authors are strongly encouraged
<a name="94"></a>     *   to disclose a list of verbs that is sufficient by itself to
<a name="95"></a>     *   complete the game, and to set this property to true once they've
<a name="96"></a>     *   done so.  
<a name="97"></a>     */
<a name="98"></a>    allRequiredVerbsDisclosed = nil
<a name="99"></a>
<a name="100"></a>    /* 
<a name="101"></a>     *   A list of custom verbs.  Each game should set this to a list of
<a name="102"></a>     *   single-quoted strings; each string gives an example of a verb to
<a name="103"></a>     *   display in the list of sample verbs.  Something like this:
<a name="104"></a>     *   
<a name="105"></a>     *   customVerbs = ['brush my teeth', 'pick the lock'] 
<a name="106"></a>     */
<a name="107"></a>    customVerbs = []
<a name="108"></a>
<a name="109"></a>    /* 
<a name="110"></a>     *   Verbs relating specifically to character interaction.  This is in
<a name="111"></a>     *   the same format as customVerbs, and has essentially the same
<a name="112"></a>     *   purpose; however, we call these out separately to allow each game
<a name="113"></a>     *   not only to supplement the default list we provide but to replace
<a name="114"></a>     *   our default list.  This is desirable for conversation-related
<a name="115"></a>     *   commands in particular because some games will not use the
<a name="116"></a>     *   ASK/TELL conversation system at all and will thus want to remove
<a name="117"></a>     *   any mention of the standard set of verbs.  
<a name="118"></a>     */
<a name="119"></a>    conversationVerbs =
<a name="120"></a>    [
<a name="121"></a>        'ASK WIZARD ABOUT WAND',
<a name="122"></a>        'ASK WIZARD FOR POTION',
<a name="123"></a>        'ASK WIZARD HOW TO FLY',
<a name="124"></a>        'TELL WIZARD ABOUT DUSTY TOME',
<a name="125"></a>        'TALK ABOUT THE WEATHER',
<a name="126"></a>        'SAY YOU\'RE AFRAID',
<a name="127"></a>        'SHOW SCROLL TO WIZARD',
<a name="128"></a>        'GIVE WAND TO WIZARD',
<a name="129"></a>        'YES (or NO)'
<a name="130"></a>    ]
<a name="131"></a>
<a name="132"></a>    /* conversation verb abbreviations */
<a name="133"></a>    conversationAbbr = "\n\tASK ABOUT (topic) can be abbreviated
<a name="134"></a>                        to A (topic)
<a name="135"></a>                        \n\tTELL ABOUT (topic) can be entered as T (topic)"
<a name="136"></a>
<a name="137"></a>    /*
<a name="138"></a>     *   Truncation length. If the game's parser allows words to be
<a name="139"></a>     *   abbreviated to some minimum number of letters, this should
<a name="140"></a>     *   indicate the minimum length.  The English parser uses a truncation
<a name="141"></a>     *   length of 8 letters by default.
<a name="142"></a>     *   
<a name="143"></a>     *   Set this to nil if the game doesn't allow truncation at all.  
<a name="144"></a>     */
<a name="145"></a>    truncationLength = LMentionable.truncationLength
<a name="146"></a>
<a name="147"></a>    /*
<a name="148"></a>     *   This property should be set on a game-by-game basis to indicate
<a name="149"></a>     *   the "cruelty level" of the game, which is a rough estimation of
<a name="150"></a>     *   how likely it is that the player will encounter an unwinnable
<a name="151"></a>     *   position in the game.
<a name="152"></a>     *   
<a name="153"></a>     *   Level 0 is "kind," which means that the player character can
<a name="154"></a>     *   never be killed, and it's impossible to make the game unwinnable.
<a name="155"></a>     *   When this setting is used, the instructions will reassure the
<a name="156"></a>     *   player that saving is necessary only to suspend the session.
<a name="157"></a>     *   
<a name="158"></a>     *   Level 1 is "standard," which means that the player character can
<a name="159"></a>     *   be killed, and/or that unwinnable positions are possible, but
<a name="160"></a>     *   that there are no especially bad unwinnable situations.  When
<a name="161"></a>     *   this setting is selected, we'll warn the player that they should
<a name="162"></a>     *   save every so often.
<a name="163"></a>     *   
<a name="164"></a>     *   (An "especially bad" situation is one in which the game becomes
<a name="165"></a>     *   unwinnable at some point, but this won't become apparent to the
<a name="166"></a>     *   player until much later.  For example, suppose the first scene
<a name="167"></a>     *   takes place in a location that can never be reached again after
<a name="168"></a>     *   the first scene, and suppose that there's some object you can
<a name="169"></a>     *   obtain in this scene.  This object will be required in the very
<a name="170"></a>     *   last scene to win the game; if you don't have the object, you
<a name="171"></a>     *   can't win.  This is an "especially bad" unwinnable situation: if
<a name="172"></a>     *   you leave the first scene without getting the necessary object,
<a name="173"></a>     *   the game is unwinnable from that point forward.  In order to win,
<a name="174"></a>     *   you have to go back and play almost the whole game over again.
<a name="175"></a>     *   Saved positions are almost useless in a case like this, since
<a name="176"></a>     *   most of the saved positions will be after the fatal mistake; no
<a name="177"></a>     *   matter how often you saved, you'll still have to go back and do
<a name="178"></a>     *   everything over again from near the beginning.)
<a name="179"></a>     *   
<a name="180"></a>     *   Level 2 is "cruel," which means that the game can become
<a name="181"></a>     *   unwinnable in especially bad ways, as described above.  If this
<a name="182"></a>     *   level is selected, we'll warn the player more sternly to save
<a name="183"></a>     *   frequently.
<a name="184"></a>     *   
<a name="185"></a>     *   We set this to 1 ("standard") by default, because even games that
<a name="186"></a>     *   aren't intentionally designed to be cruel often have subtle
<a name="187"></a>     *   situations where the game becomes unwinnable, because of things
<a name="188"></a>     *   like the irreversible loss of an object, or an unrepeatable event
<a name="189"></a>     *   sequence; it almost always takes extra design work to ensure that
<a name="190"></a>     *   a game is always winnable.  
<a name="191"></a>     */
<a name="192"></a>    crueltyLevel = 1
<a name="193"></a>
<a name="194"></a>    /*
<a name="195"></a>     *   Conversation system description.  Several different conversation
<a name="196"></a>     *   systems have come into relatively widespread use, so there isn't
<a name="197"></a>     *   any single convention that's generic enough that we can assume it
<a name="198"></a>     *   holds for all games.  In deference to this variability, we
<a name="199"></a>     *   provide this hook to make it easy to replace the instructions
<a name="200"></a>     *   pertaining to the conversation system.  If the game uses the
<a name="201"></a>     *   standard ASK/TELL system, it can leave this list unchanged; if
<a name="202"></a>     *   the game uses a different system, it can replace this with its
<a name="203"></a>     *   own instructions.
<a name="204"></a>     *   
<a name="205"></a>     *   We'll include information on the TALK TO command if there are any
<a name="206"></a>     *   in-conversation state objects in the game; if not, we'll assume
<a name="207"></a>     *   there's no need for this command.
<a name="208"></a>     *   
<a name="209"></a>     *   We'll mention the TOPICS command if there are any SuggestedTopic
<a name="210"></a>     *   instances in the game; if not, then the game will never have
<a name="211"></a>     *   anything to suggest, so the TOPICS command isn't needed.
<a name="212"></a>     *   
<a name="213"></a>     *   We'll include information on special topics if there are any
<a name="214"></a>     *   SpecialTopic objects defined.  
<a name="215"></a>     */
<a name="216"></a>    conversationInstructions()
<a name="217"></a>    {
<a name="218"></a>        "You can talk to other characters by asking or
<a name="219"></a>        telling them about things in the story.  For example, you might
<a name="220"></a>        ASK WIZARD ABOUT WAND or TELL GUARD ABOUT ALARM.  You should
<a name="221"></a>        normally use the ASK ABOUT or TELL ABOUT phrasing; the story
<a name="222"></a>        won&amp;rsquo;t generally be able to understand other formats, so you don&amp;rsquo;t
<a name="223"></a>        have to worry about thinking up complicated questions like &lt;q&gt;ask
<a name="224"></a>        guard how to open the window.&lt;/q&gt;, unless the game explicitly offers
<a name="225"></a>        such a question as a suggestion.
<a name="226"></a>        In most cases, you&amp;rsquo;ll get the best results by asking
<a name="227"></a>        about specific objects or other characters you&amp;rsquo;ve encountered
<a name="228"></a>        in the story, rather than about abstract topics such as
<a name="229"></a>        MEANING OF LIFE; however, if something in the story leads you
<a name="230"></a>        to believe you &lt;i&gt;should&lt;/i&gt; ask about some particular abstract
<a name="231"></a>        topic, it can&amp;rsquo;t hurt to try.
<a name="232"></a>
<a name="233"></a>        \bIf you&amp;rsquo;re asking or telling the same person about several
<a name="234"></a>        topics in succession, you can save some typing by abbreviating
<a name="235"></a>        ASK ABOUT to A, and TELL ABOUT to T.  For example, once you&amp;rsquo;re
<a name="236"></a>        talking to the wizard, you can abbreviate ASK WIZARD ABOUT AMULET
<a name="237"></a>        to simply A AMULET.  This addresses the question to the same
<a name="238"></a>        character as in the last ASK or TELL. ";
<a name="239"></a>
<a name="240"></a>        if(defined(ActorState) &amp;&amp; firstObj(ActorState, ObjInstances) != nil)
<a name="241"></a>          "\bTo greet another character, type TALK TO (Person).  This
<a name="242"></a>          tries to get the other character&amp;rsquo;s attention and start a
<a name="243"></a>          conversation.  TALK TO is always optional, since you can start
<a name="244"></a>          in with ASK or TELL directly if you prefer. ";
<a name="245"></a>
<a name="246"></a>        if(defined(SpecialTopic) &amp;&amp; firstObj(SpecialTopic, ObjInstances) !=
<a name="247"></a>          nil)
<a name="248"></a>          "\bThe story might occasionally suggest some special conversation
<a name="249"></a>          commands, like this:
<a name="250"></a>
<a name="251"></a>          \b\t(You could apologize, or explain about the aliens, or ask how to
<a name="252"></a>          fly.)
<a name="253"></a>
<a name="254"></a>          \bIf you like, you can use one of the suggestions just by
<a name="255"></a>          typing in the special phrasing shown.  You can usually
<a name="256"></a>          abbreviate these to the first few words when they&amp;rsquo;re long.
<a name="257"></a>
<a name="258"></a>          \b\t&amp;gt;APOLOGIZE
<a name="259"></a>          \n\t&amp;gt;EXPLAIN ABOUT ALIENS
<a name="260"></a>          \n\t&amp;gt;ASK HOW TO FLY
<a name="261"></a>
<a name="262"></a>          \bSpecial suggestions like this often only work right at the moment
<a name="263"></a>          they&amp;rsquo;re offered, so you don&amp;rsquo;t have to worry about
<a name="264"></a>          memorizing them, or trying them at other random times in the story.
<a name="265"></a>          They&amp;rsquo;re not new commands for you to learn; they&amp;rsquo;re just
<a name="266"></a>          extra options you have at specific times, and the story will always
<a name="267"></a>          let you know when they&amp;rsquo;re available.  When the story offers
<a name="268"></a>          suggestions like this, they don&amp;rsquo;t limit what you can do; you
<a name="269"></a>          can still type any ordinary command instead of one of the
<a name="270"></a>          suggestions. ";
<a name="271"></a>
<a name="272"></a>        if(defined(ActorTopicEntry) &amp;&amp; firstObj(ActorTopicEntry, ObjInstances) 
<a name="273"></a>          != nil)
<a name="274"></a>          "\bIf you&amp;rsquo;re not sure what to discuss, you can type TOPICS any
<a name="275"></a>          time you&amp;rsquo;re talking to someone.  This will show you a list of
<a name="276"></a>          things that your character might be interested in discussing
<a name="277"></a>          with the other person.  The TOPICS command usually won&amp;rsquo;t list
<a name="278"></a>          everything that you can discuss, so feel free to explore other
<a name="279"></a>          topics even if they&amp;rsquo;re not listed. ";
<a name="280"></a>
<a name="281"></a>        "\bYou can also interact with other characters using physical
<a name="282"></a>        objects.  For example, you might be able to give something to
<a name="283"></a>        another character, as in GIVE MONEY TO CLERK, or show an object
<a name="284"></a>        to someone, as in SHOW IDOL TO PROFESSOR.  You might also be
<a name="285"></a>        able to fight other characters, as in ATTACK TROLL WITH
<a name="286"></a>        SWORD or THROW AXE AT DWARF.
<a name="287"></a>
<a name="288"></a>        \bIn some cases, you can tell a character to do
<a name="289"></a>        something for you.  You do this by typing the character&amp;rsquo;s name,
<a name="290"></a>        then a comma, then the command you want the character to perform,
<a name="291"></a>        using the same wording you&amp;rsquo;d use for a command to your own
<a name="292"></a>        character.  For example:
<a name="293"></a>
<a name="294"></a>        \b\t&amp;gt;ROBOT, GO NORTH
<a name="295"></a>
<a name="296"></a>        \bKeep in mind, though, that there&amp;rsquo;s no guarantee that other
<a name="297"></a>        characters will always obey your orders.  Most characters have
<a name="298"></a>        minds of their own and won&amp;rsquo;t automatically do whatever you
<a name="299"></a>        ask. ";
<a name="300"></a>    }
<a name="301"></a>
<a name="302"></a>    /* execute the command */
<a name="303"></a>    execAction(cmd)
<a name="304"></a>    {
<a name="305"></a>        
<a name="306"></a>
<a name="307"></a>        /* show the instructions */
<a name="308"></a>        showInstructions();
<a name="309"></a>
<a name="310"></a>       
<a name="311"></a>    }
<a name="312"></a>
<a name="313"></a>#ifdef INSTRUCTIONS_MENU
<a name="314"></a>    /*
<a name="315"></a>     *   Show the instructions, using a menu-based table of contents.
<a name="316"></a>     */
<a name="317"></a>    showInstructions()
<a name="318"></a>    {
<a name="319"></a>        /* run the instructions menu */
<a name="320"></a>        topInstructionsMenu.display();
<a name="321"></a>
<a name="322"></a>        /* show an acknowledgment */
<a name="323"></a>        "Done. ";
<a name="324"></a>    }
<a name="325"></a>    
<a name="326"></a>#else /* INSTRUCTIONS_MENU */
<a name="327"></a>
<a name="328"></a>    /*
<a name="329"></a>     *   Show the instructions as a standard text display.  Give the user
<a name="330"></a>     *   the option of turning on a SCRIPT file to capture the text.  
<a name="331"></a>     */
<a name="332"></a>    showInstructions()
<a name="333"></a>    {
<a name="334"></a>        local startedScript;
<a name="335"></a>
<a name="336"></a>        /* presume we won't start a new script file */
<a name="337"></a>        startedScript = nil;
<a name="338"></a>        
<a name="339"></a>        /* show the introductory message */
<a name="340"></a>        "The story is about to show a full set of instructions,
<a name="341"></a>        designed especially for people who aren&amp;rsquo;t already familiar
<a name="342"></a>        with interactive fiction.  The instructions are lengthy";
<a name="343"></a>
<a name="344"></a>        /*
<a name="345"></a>         *   Check to see if we're already scripting.  If we aren't, offer
<a name="346"></a>         *   to save the instructions to a file. 
<a name="347"></a>         */
<a name="348"></a>        if (scriptStatus.scriptFile == nil)
<a name="349"></a>        {
<a name="350"></a>            local str;
<a name="351"></a>            
<a name="352"></a>            /* 
<a name="353"></a>             *   they're not already logging; ask if they'd like to start
<a name="354"></a>             *   doing so 
<a name="355"></a>             */
<a name="356"></a>            ", so you might want to capture them to a file (so that
<a name="357"></a>            you can print them out, for example).  Would you like to
<a name="358"></a>            proceed?
<a name="359"></a>            \n(&lt;&lt;aHref('yes', 'Y')&gt;&gt; is affirmative, or type
<a name="360"></a>            &lt;&lt;aHref('script', 'SCRIPT')&gt;&gt; to capture to a file) &amp;gt; ";
<a name="361"></a>
<a name="362"></a>            /* ask for input */
<a name="363"></a>            str = inputManager.getInputLine(nil);
<a name="364"></a>
<a name="365"></a>            /* if they want to capture them to a file, set up scripting */
<a name="366"></a>            if (rexMatch('&lt;nocase&gt;&lt;space&gt;*s(c(r(i(pt?)?)?)?)?&lt;space&gt;*', str)
<a name="367"></a>                == str.length())
<a name="368"></a>            {
<a name="369"></a>                /* try setting up a scripting file */
<a name="370"></a>                ScriptOn.setUpScripting(nil);
<a name="371"></a>
<a name="372"></a>                /* if that failed, don't proceed */
<a name="373"></a>                if (scriptStatus.scriptFile == nil)
<a name="374"></a>                    return;
<a name="375"></a>                
<a name="376"></a>                /* note that we've started a script file */
<a name="377"></a>                startedScript = true;
<a name="378"></a>            }
<a name="379"></a>            else if (rexMatch('&lt;nocase&gt;&lt;space&gt;*y.*', str) != str.length())
<a name="380"></a>            {
<a name="381"></a>                "Canceled. ";
<a name="382"></a>                return;
<a name="383"></a>            }
<a name="384"></a>        }
<a name="385"></a>        else
<a name="386"></a>        {
<a name="387"></a>            /* 
<a name="388"></a>             *   they're already logging; just confirm that they want to
<a name="389"></a>             *   see the instructions 
<a name="390"></a>             */
<a name="391"></a>            "; would you like to proceed?
<a name="392"></a>            \n(Y is affirmative) &amp;gt; ";
<a name="393"></a>
<a name="394"></a>            /* stop if they don't want to proceed */
<a name="395"></a>            if (!yesOrNo())
<a name="396"></a>            {
<a name="397"></a>                "Canceled. ";
<a name="398"></a>                return;
<a name="399"></a>            }
<a name="400"></a>        }
<a name="401"></a>
<a name="402"></a>        /* make sure we have something for the next "\b" to skip from */
<a name="403"></a>        "\ ";
<a name="404"></a>
<a name="405"></a>        /* show each chapter in turn */
<a name="406"></a>        showCommandsChapter();
<a name="407"></a>        showAbbrevChapter();
<a name="408"></a>        showTravelChapter();
<a name="409"></a>        showObjectsChapter();
<a name="410"></a>        showConversationChapter();
<a name="411"></a>        showTimeChapter();
<a name="412"></a>        showSaveRestoreChapter();
<a name="413"></a>        showSpecialCmdChapter();
<a name="414"></a>        showUnknownWordsChapter();
<a name="415"></a>        showAmbiguousCmdChapter();
<a name="416"></a>        showAdvancedCmdChapter();
<a name="417"></a>        showTipsChapter();
<a name="418"></a>
<a name="419"></a>        /* if we started a script file, close it */
<a name="420"></a>        if (startedScript)
<a name="421"></a>            ScriptOff.turnOffScripting(nil);
<a name="422"></a>    }
<a name="423"></a>
<a name="424"></a>#endif /* INSTRUCTIONS_MENU */
<a name="425"></a>
<a name="426"></a>    /* Entering Commands chapter */
<a name="427"></a>    showCommandsChapter()
<a name="428"></a>    {
<a name="429"></a>        "\b&lt;b&gt;Entering Commands&lt;/b&gt;\b
<a name="430"></a>        You&amp;rsquo;ve probably already noticed that you interact with the story
<a name="431"></a>        by typing a command whenever you see the &lt;q&gt;prompt,&lt;/q&gt; which
<a name="432"></a>        usually looks like this:
<a name="433"></a>        \b";
<a name="434"></a>
<a name="435"></a>        "&gt;";
<a name="436"></a>
<a name="437"></a>        "\bKnowing this much, you&amp;rsquo;re probably thinking one of two things:
<a name="438"></a>        &lt;q&gt;Great, I can type absolutely anything I want, in plain English,
<a name="439"></a>        and the story will do my bidding,&lt;/q&gt; or &lt;q&gt;Great, now I have to
<a name="440"></a>        figure out yet another heinously complex command language for
<a name="441"></a>        a computer program; I think I&amp;rsquo;ll go play Minesweeper.&lt;/q&gt;
<a name="442"></a>        Well, neither extreme is quite true.
<a name="443"></a>
<a name="444"></a>        \bIn actual play, you&amp;rsquo;ll only need a fairly small set of
<a name="445"></a>        commands, and the commands are mostly in ordinary English, so
<a name="446"></a>        there&amp;rsquo;s not very much you&amp;rsquo;ll have to learn or remember.
<a name="447"></a>        Even though that command prompt can look intimidating, don&amp;rsquo;t
<a name="448"></a>        let it scare you off &amp;mdash; there are just a few simple things you
<a name="449"></a>        have to know.
<a name="450"></a>
<a name="451"></a>        \bFirst, you&amp;rsquo;ll almost never have to refer to anything that
<a name="452"></a>        isn&amp;rsquo;t directly mentioned in the story; this is a story, after
<a name="453"></a>        all, not a guessing game where you have to think of everything that
<a name="454"></a>        goes together with some random object.  For example, if
<a name="455"></a>        you&amp;rsquo;re wearing a jacket, you might assume that the jacket has
<a name="456"></a>        pockets, or buttons, or a zipper &amp;mdash; but if the story never
<a name="457"></a>        mentions those things, you shouldn&amp;rsquo;t have to worry about them.
<a name="458"></a>
<a name="459"></a>        \bSecond, you won&amp;rsquo;t have to think of every conceivable action
<a name="460"></a>        you could perform.  The point of the game isn&amp;rsquo;t to make you
<a name="461"></a>        guess at verbs.  Instead, you&amp;rsquo;ll only have to use a relatively
<a name="462"></a>        small number of simple, ordinary actions.  To give you an idea
<a name="463"></a>        of what we mean, here are some of the commands you can use:";
<a name="464"></a>        
<a name="465"></a>        "\b
<a name="466"></a>        \n\t LOOK AROUND
<a name="467"></a>        \n\t INVENTORY
<a name="468"></a>        \n\t GO NORTH (or EAST, SOUTHWEST, and so on, or UP, DOWN, IN, OUT)
<a name="469"></a>        \n\t WAIT
<a name="470"></a>        \n\t TAKE THE BOX
<a name="471"></a>        \n\t DROP THE DISK
<a name="472"></a>        \n\t LOOK AT THE DISK
<a name="473"></a>        \n\t READ THE BOOK
<a name="474"></a>        \n\t OPEN BOX
<a name="475"></a>        \n\t CLOSE BOX
<a name="476"></a>        \n\t LOOK IN THE BOX
<a name="477"></a>        \n\t LOOK THROUGH WINDOW
<a name="478"></a>        \n\t PUT FLOPPY DISK INTO BOX
<a name="479"></a>        \n\t PUT BOX ON TABLE
<a name="480"></a>        \n\t WEAR THE CONICAL HAT
<a name="481"></a>        \n\t TAKE OFF HAT
<a name="482"></a>        \n\t TURN ON LANTERN
<a name="483"></a>        \n\t LIGHT MATCH
<a name="484"></a>        \n\t LIGHT CANDLE WITH MATCH
<a name="485"></a>        \n\t PUSH BUTTON
<a name="486"></a>        \n\t PULL LEVER
<a name="487"></a>        \n\t TURN KNOB
<a name="488"></a>        \n\t TURN DIAL TO 11
<a name="489"></a>        \n\t EAT COOKIE
<a name="490"></a>        \n\t DRINK MILK
<a name="491"></a>        \n\t THROW PIE AT CLOWN
<a name="492"></a>        \n\t ATTACK TROLL WITH SWORD
<a name="493"></a>        \n\t UNLOCK DOOR WITH KEY
<a name="494"></a>        \n\t LOCK DOOR WITH KEY
<a name="495"></a>        \n\t CLIMB THE LADDER
<a name="496"></a>        \n\t GET IN THE CAR
<a name="497"></a>        \n\t SIT ON THE CHAIR
<a name="498"></a>        \n\t STAND ON THE TABLE
<a name="499"></a>        \n\t STAND IN FLOWER BED
<a name="500"></a>        \n\t LIE ON THE BED
<a name="501"></a>        \n\t TYPE HELLO ON COMPUTER
<a name="502"></a>        \n\t LOOK UP BOB IN PHONE BOOK";
<a name="503"></a>
<a name="504"></a>        /* show the conversation-related verbs */
<a name="505"></a>        foreach (local cur in conversationVerbs)
<a name="506"></a>            "\n\t &lt;&lt;cur&gt;&gt;";
<a name="507"></a>
<a name="508"></a>        /* show the custom verbs */
<a name="509"></a>        foreach (local cur in customVerbs)
<a name="510"></a>            "\n\t &lt;&lt;cur&gt;&gt;";
<a name="511"></a>
<a name="512"></a>        /* 
<a name="513"></a>         *   if the list is exhaustive, say so; otherwise, mention that
<a name="514"></a>         *   there might be some other verbs to find 
<a name="515"></a>         */
<a name="516"></a>        if (allRequiredVerbsDisclosed)
<a name="517"></a>            "\bThat&amp;rsquo;s it &amp;mdash; every verb and every command phrasing
<a name="518"></a>            you need to complete the story is shown above.
<a name="519"></a>            If you ever get stuck and feel like the story is expecting
<a name="520"></a>            you to think of something completely out of the blue, remember
<a name="521"></a>            this: whatever it is you have to do, you can do it with one
<a name="522"></a>            or more of the commands shown above. 
<a name="523"></a>            Don&amp;rsquo;t ever worry that you have to start trying lots of
<a name="524"></a>            random commands to hit upon the magic phrasing, because
<a name="525"></a>            everything you need is shown plainly above. ";
<a name="526"></a>        else
<a name="527"></a>            "\bMost of the verbs you&amp;rsquo;ll need to complete the story are
<a name="528"></a>            shown above; there might be a few additional commands you&amp;rsquo;ll
<a name="529"></a>            need from time to time as well, but they&amp;rsquo;ll follow the same
<a name="530"></a>            simple format as the commands above.";
<a name="531"></a>
<a name="532"></a>        "\bA few of these commands deserve some more explanation.
<a name="533"></a>        LOOK AROUND (which you abbreviate to LOOK, or even just L)
<a name="534"></a>        shows the description of the current location.  You can use
<a name="535"></a>        this if you want to refresh your memory of your character&amp;rsquo;s
<a name="536"></a>        surroundings.  INVENTORY (or just I) shows a list of everything
<a name="537"></a>        your character is carrying. WAIT (or Z) just lets a little
<a name="538"></a>        time pass in the story.";
<a name="539"></a>    }
<a name="540"></a>
<a name="541"></a>    /* Abbreviations chapter */
<a name="542"></a>    showAbbrevChapter()
<a name="543"></a>    {
<a name="544"></a>        "\b&lt;b&gt;Abbreviations&lt;/b&gt;
<a name="545"></a>        \bYou&amp;rsquo;ll probably use a few commands quite a lot, so to save
<a name="546"></a>        typing, you can abbreviate some of the most frequently-used
<a name="547"></a>        commands:
<a name="548"></a>
<a name="549"></a>        \b
<a name="550"></a>        \n\t LOOK AROUND can be shortened to LOOK, or merely L
<a name="551"></a>        \n\t INVENTORY can be simply I
<a name="552"></a>        \n\t GO NORTH can be written NORTH, or even just N (likewise E, W, S,
<a name="553"></a>            NE, SE, NW, SW, U for UP and D for DOWN)
<a name="554"></a>        \n\t LOOK AT THE DISK can be entered as EXAMINE DISK or simply X DISK
<a name="555"></a>        \n\t WAIT can be shortened to Z
<a name="556"></a>        &lt;&lt;conversationAbbr&gt;&gt;
<a name="557"></a>
<a name="558"></a>        \b&lt;b&gt;A Few More Command Details&lt;/b&gt;
<a name="559"></a>        \bWhen you&amp;rsquo;re entering commands, you can use capital or small
<a name="560"></a>        letters in any mixture.  You can use words such as THE and A
<a name="561"></a>        when they&amp;rsquo;re appropriate, but you can omit them if you
<a name="562"></a>        prefer. ";
<a name="563"></a>
<a name="564"></a>        if (truncationLength != nil)
<a name="565"></a>        {
<a name="566"></a>            "You can abbreviate any word to its first &lt;&lt;
<a name="567"></a>            spellNumber(truncationLength)&gt;&gt; letters, but if you choose not
<a name="568"></a>            to abbreviate, the story will pay attention to
<a name="569"></a>            everything you actually type; this means, for example, that you
<a name="570"></a>            can abbreviate SUPERCALIFRAGILISTICEXPIALIDOCIOUS to &lt;&lt;
<a name="571"></a>            'SUPERCALIFRAGILISTICEXPIALIDOCIOUS'.substr(1, truncationLength)
<a name="572"></a>            &gt;&gt; or &lt;&lt;
<a name="573"></a>            'SUPERCALIFRAGILISTICEXPIALIDOCIOUS'.substr(1, truncationLength+2)
<a name="574"></a>            &gt;&gt;, but not to &lt;&lt;
<a name="575"></a>            'SUPERCALIFRAGILISTICEXPIALIDOCIOUS'.substr(1, truncationLength)
<a name="576"></a>            &gt;&gt;SDF. ";
<a name="577"></a>        }
<a name="578"></a>    }
<a name="579"></a>
<a name="580"></a>    /* Travel chapter */
<a name="581"></a>    showTravelChapter()
<a name="582"></a>    {
<a name="583"></a>        "\b&lt;b&gt;Travel&lt;/b&gt;
<a name="584"></a>        \bAt any given time in the story, your character is in a
<a name="585"></a>        &lt;q&gt;location.&lt;/q&gt;  The story describes the location when your
<a name="586"></a>        character first enters, and again any time you type LOOK.
<a name="587"></a>        Each location usually has a short name that&amp;rsquo;s displayed just
<a name="588"></a>        before its full description; the name is useful when drawing a map,
<a name="589"></a>        and the short name can help jog your memory as you&amp;rsquo;re finding
<a name="590"></a>        your way around.
<a name="591"></a>
<a name="592"></a>        \bEach location is a separate room, or a large outdoor area,
<a name="593"></a>        or the like.  (Sometimes a single physical room is so large that
<a name="594"></a>        it comprises several locations in the game, but that&amp;rsquo;s fairly
<a name="595"></a>        rare.)  For the most part, going to a location is as specific
<a name="596"></a>        as you have to get about travel; once your character is in a
<a name="597"></a>        location, the character can usually see and reach everything
<a name="598"></a>        within the location, so you don&amp;rsquo;t have to worry about where
<a name="599"></a>        exactly your character is standing within the room.  Once in
<a name="600"></a>        a while, you might find that something is out of reach, perhaps
<a name="601"></a>        because it&amp;rsquo;s on a high shelf or on the other side of a moat; in
<a name="602"></a>        these cases, it&amp;rsquo;s sometimes useful to be more specific about
<a name="603"></a>        your character&amp;rsquo;s location, such as by standing on something
<a name="604"></a>        (STAND ON TABLE, for example).
<a name="605"></a>
<a name="606"></a>        \bTraveling from one location to another is usually done using
<a name="607"></a>        a direction command: GO NORTH, GO NORTHEAST, GO UP, and so on.
<a name="608"></a>        (You can abbreviate the cardinal and vertical directions to one
<a name="609"></a>        letter each &amp;mdash; N, S, E, W, U, D &amp;mdash; and the diagonal
<a name="610"></a>        directions to two: NE, NW, SE, SW.)  The story should always
<a name="611"></a>        tell you the directions that you can go when it describes a
<a name="612"></a>        location, so you should never have to try all the unmentioned
<a name="613"></a>        directions to see if they go anywhere.
<a name="614"></a>
<a name="615"></a>        \bIn most cases, backtracking (by reversing the direction you
<a name="616"></a>        took from one location to another) will take you back to where you
<a name="617"></a>        started, although some passages might have turns.
<a name="618"></a>
<a name="619"></a>        \bMost of the time, when the story describes a door or passageway,
<a name="620"></a>        you won&amp;rsquo;t need to open the door to go through the passage, as
<a name="621"></a>        the story will do this for you.  Only when the story specifically
<a name="622"></a>        states that a door is blocking your way will you usually have to
<a name="623"></a>        deal with the door explicitly.
<a name="624"></a>        
<a name="625"></a>        
<a name="626"></a>        &lt;&lt;if defined(pcRouteFinder)&gt;&gt;\bAnother way you can travel from place to
<a name="627"></a>        place is by using the command GO TO SOMEWHERE: for example GO TO KITCHEN
<a name="628"></a>        or GO TO GEORGE, where KITCHEN is a room you have already visited or
<a name="629"></a>        GEORGE is someone (or something) you have already seen. This will take
<a name="630"></a>        you on the first step of the way to the kitchen, or to the room where
<a name="631"></a>        you last saw George. To continue on your journey after the first step
<a name="632"></a>        you can use the command CONTINUE, which can be abbreviated to C. You can
<a name="633"></a>        also enter several commands in between, e.g. GO TO KITCHEN, SEARCH DESK,
<a name="634"></a>        TAKE NOTEBOOK, READ NOTEBOOK, CONTINUE.\b
<a name="635"></a>        In some games the player character may start out in a place that&amp;rsquo;s
<a name="636"></a>        already familiar to him or her (e.g. his or her house or home town), in
<a name="637"></a>        which case you may be able to navigate to some locations using GO TO
<a name="638"></a>        without having previously explored that part of the map.
<a name="639"></a>        &lt;&lt;end&gt;&gt; ";
<a name="640"></a>    }
<a name="641"></a>
<a name="642"></a>    /* Objects chapter */
<a name="643"></a>    showObjectsChapter()
<a name="644"></a>    {
<a name="645"></a>        "\b&lt;b&gt;Manipulating Objects&lt;/b&gt;
<a name="646"></a>        \bYou might find objects in the story that your character can
<a name="647"></a>        carry or otherwise manipulate.  If you want to carry something,
<a name="648"></a>        type TAKE and the object&amp;rsquo;s name: TAKE BOOK.  If you want to
<a name="649"></a>        drop something your character is carrying, DROP it.
<a name="650"></a>
<a name="651"></a>        \bYou usually won&amp;rsquo;t have to be very specific about exactly
<a name="652"></a>        how your character is supposed to carry or hold something, so you
<a name="653"></a>        shouldn&amp;rsquo;t have to worry about which hand is holding which item
<a name="654"></a>        or anything like that.  It might sometimes be useful to put one
<a name="655"></a>        object inside or on top of another, though; for example, PUT BOOK
<a name="656"></a>        IN SHOPPING BAG or PUT VASE ON TABLE.  If your character&amp;rsquo;s
<a name="657"></a>        hands get full, it might help to put some items being carried
<a name="658"></a>        into a container, much as in real life you can carry more stuff
<a name="659"></a>        if it&amp;rsquo;s in a bag or a box.
<a name="660"></a>
<a name="661"></a>        \bYou can often get a lot of extra information (and sometimes 
<a name="662"></a>        vital clues) by examining objects, which you can do with the LOOK
<a name="663"></a>        AT command (or, equivalently, EXAMINE, which you can abbreviate
<a name="664"></a>        to simply X, as in X PAINTING).  Most experienced players get
<a name="665"></a>        in the habit of examining everything in a new location right
<a name="666"></a>        away. ";
<a name="667"></a>    }
<a name="668"></a>
<a name="669"></a>    /* show the Conversation chapter */
<a name="670"></a>    showConversationChapter()
<a name="671"></a>    {
<a name="672"></a>        "\b&lt;b&gt;Interacting with Other Characters&lt;/b&gt;
<a name="673"></a>        \bYour character may encounter other people or creatures in the
<a name="674"></a>        story.  You can sometimes interact with these characters.\b";
<a name="675"></a>
<a name="676"></a>        /* show the customizable conversation instructions */
<a name="677"></a>        conversationInstructions;
<a name="678"></a>    }
<a name="679"></a>
<a name="680"></a>    /* Time chapter */
<a name="681"></a>    showTimeChapter()
<a name="682"></a>    {
<a name="683"></a>        "\b&lt;b&gt;Time&lt;/b&gt;";
<a name="684"></a>        
<a name="685"></a>        
<a name="686"></a>        "\bTime passes in the story only in response to commands you type.  This
<a name="687"></a>        means that nothing happens while the story is waiting for you to type
<a name="688"></a>        something.  Each command takes about the same amount of time in the
<a name="689"></a>        story.  If you specifically want to let some extra time pass within the
<a name="690"></a>        story, because you think something is about to happen, you can type WAIT
<a name="691"></a>        (or just Z). ";
<a name="692"></a>        
<a name="693"></a>    }
<a name="694"></a>
<a name="695"></a>    /* Saving, Restoring, and Undo chapter */
<a name="696"></a>    showSaveRestoreChapter()
<a name="697"></a>    {
<a name="698"></a>        "\b&lt;b&gt;Saving and Restoring&lt;/b&gt;
<a name="699"></a>        \bYou can save a snapshot of your current position in the story
<a name="700"></a>        at any time, so that you can later restore the story to the
<a name="701"></a>        same position.  The snapshot will be saved to a file on your
<a name="702"></a>        computer&amp;rsquo;s disk, and you can save as many different snapshots
<a name="703"></a>        as you&amp;rsquo;d like (to the extent you have space on your disk,
<a name="704"></a>        anyway).\b";
<a name="705"></a>
<a name="706"></a>        switch (crueltyLevel)
<a name="707"></a>        {
<a name="708"></a>        case 0:
<a name="709"></a>            "In this story, your character will never be killed, and
<a name="710"></a>            you&amp;rsquo;ll never find yourself in a situation where
<a name="711"></a>            it&amp;rsquo;s impossible to complete the story.  Whatever happens
<a name="712"></a>            to your character, you&amp;rsquo;ll always be able to find a way
<a name="713"></a>            to complete the story. So, unlike in many text games, you
<a name="714"></a>            don&amp;rsquo;t have to worry about saving positions to protect
<a name="715"></a>            yourself against getting stuck in impossible situations.  Of
<a name="716"></a>            course, you can still save as often as you&amp;rsquo;d like, to
<a name="717"></a>            suspend your session and return to it later, or to save
<a name="718"></a>            positions that you think you might want to revisit.";
<a name="719"></a>            break;
<a name="720"></a>
<a name="721"></a>        case 1:
<a name="722"></a>        case 2:
<a name="723"></a>            "It might be possible for your character to be killed in
<a name="724"></a>            the story, or for you to find your character in an impossible
<a name="725"></a>            situation where you won&amp;rsquo;t be able to complete the story.
<a name="726"></a>            So, you should be sure to save your position
<a name="727"></a>            &lt;&lt;crueltyLevel == 1 ? 'from time to time' : 'frequently'&gt;&gt;
<a name="728"></a>            so that you won&amp;rsquo;t have to go back too far if this should
<a name="729"></a>            happen. ";
<a name="730"></a>
<a name="731"></a>            if (crueltyLevel == 2)
<a name="732"></a>                "(You should make a point of keeping all of your old saved
<a name="733"></a>                positions, too, because you might not always realize
<a name="734"></a>                immediately when a situation has become impossible.
<a name="735"></a>                You might find at times that you need to go back further
<a name="736"></a>                than just the last position that you &lt;i&gt;thought&lt;/i&gt;
<a name="737"></a>                was safe.)";
<a name="738"></a>
<a name="739"></a>            break;
<a name="740"></a>        }
<a name="741"></a>
<a name="742"></a>        "\bTo save your position, type SAVE at the command prompt.
<a name="743"></a>        The story will ask you for the name of a disk file to use to store
<a name="744"></a>        snapshot.  You&amp;rsquo;ll have to specify a filename suitable for
<a name="745"></a>        your computer system, and the disk will need enough free space
<a name="746"></a>        to store the file; you&amp;rsquo;ll be told if there&amp;rsquo;s any problem
<a name="747"></a>        saving the file.  You should use a filename that doesn&amp;rsquo;t already
<a name="748"></a>        exist on your machine, because the new file will overwrite any
<a name="749"></a>        existing file with the same name.
<a name="750"></a>
<a name="751"></a>        \bYou can restore a previously saved position by typing RESTORE
<a name="752"></a>        at any prompt.  The story will ask you for the name of the file
<a name="753"></a>        to restore.  After the computer reads the file, everything in
<a name="754"></a>        the story will be exactly as it was when you saved that file.";
<a name="755"></a>
<a name="756"></a>        "\b&lt;b&gt;Undo&lt;/b&gt;
<a name="757"></a>        \bEven if you haven&amp;rsquo;t saved your position recently, you can
<a name="758"></a>        usually take back your last few commands with the UNDO command.
<a name="759"></a>        Each time you type UNDO, the story reverses the effect of one command,
<a name="760"></a>        restoring the story as it was before you typed that command.  UNDO
<a name="761"></a>        is limited to taking back the last few commands, so this isn&amp;rsquo;t
<a name="762"></a>        a substitute for SAVE/RESTORE, but it&amp;rsquo;s very handy if you
<a name="763"></a>        find your character unexpectedly in a dangerous situation, or you
<a name="764"></a>        make a mistake you want to take back.";
<a name="765"></a>    }
<a name="766"></a>
<a name="767"></a>    /* Other Special Commands chapter */
<a name="768"></a>    showSpecialCmdChapter()
<a name="769"></a>    {
<a name="770"></a>        "\b&lt;b&gt;Some Other Special Commands&lt;/b&gt;
<a name="771"></a>        \bThe story understands a few other special commands that
<a name="772"></a>        you might find useful.
<a name="773"></a>
<a name="774"></a>        \bAGAIN (or just G): Repeats the last command.  (If your last input
<a name="775"></a>        line had several commands, only the last single command on the line
<a name="776"></a>        is repeated.)
<a name="777"></a>        \bINVENTORY (or just I): Shows what your character is carrying.
<a name="778"></a>        \bLOOK (or just L): Shows the full description of your
<a name="779"></a>        character&amp;rsquo;s current location.";
<a name="780"></a>
<a name="781"></a>        /* if the exit lister module is active, mention the EXITS command */
<a name="782"></a>        if (gExitLister != nil)
<a name="783"></a>            "\bEXITS: Shows the list of obvious exits from the current
<a name="784"></a>            location.
<a name="785"></a>            \bEXITS ON/OFF/STATUS/LOOK: Controls the way the game
<a name="786"></a>            displays exit lists.  EXITS ON puts a list of
<a name="787"></a>            exits in the status line and also lists exits in each room
<a name="788"></a>            description.  EXITS OFF turns off both of these listings.
<a name="789"></a>            EXITS STATUS turns on just the status line exit list, and
<a name="790"></a>            EXITS ROOM turns on only the room description lists.";
<a name="791"></a>        
<a name="792"></a>        "\bOOPS: Corrects a single misspelled word in a command, without
<a name="793"></a>        retyping the entire command.  You can only use OOPS immediately
<a name="794"></a>        after the story tells you it didn&amp;rsquo;t recognize a word in your
<a name="795"></a>        previous command.  Type OOPS followed by the corrected word.
<a name="796"></a>        \bQUIT (or just Q): Terminates the story.
<a name="797"></a>        \bRESTART: Starts the story over from the beginning.
<a name="798"></a>        \bRESTORE: Restores a position previously saved with SAVE.
<a name="799"></a>        \bSAVE: Saves the current position in a disk file.
<a name="800"></a>        \bSCRIPT: Starts making a transcript of your story session,
<a name="801"></a>        saving all of the displayed text to a disk file, so that you
<a name="802"></a>        can peruse it later or print it out.
<a name="803"></a>        \bSCRIPT OFF: Ends a transcript that you started with SCRIPT. 
<a name="804"></a>        \bUNDO: Takes back the last command.
<a name="805"></a>        \bSAVE DEFAULTS: Saves your current settings for things like
<a name="806"></a>        NOTIFY, EXITS, and FOOTNOTES as defaults.  This means that your
<a name="807"></a>        settings will be restored automatically the next time you start
<a name="808"></a>        a new game, or RESTART this one.
<a name="809"></a>        \bRESTORE DEFAULTS: Explicitly restores the option settings
<a name="810"></a>        you previously saved with SAVE DEFAULTS. ";
<a name="811"></a>    }
<a name="812"></a>    
<a name="813"></a>    /* Unknown Words chapter */
<a name="814"></a>    showUnknownWordsChapter()
<a name="815"></a>    {
<a name="816"></a>        "\b&lt;b&gt;Unknown Words&lt;/b&gt;
<a name="817"></a>        \bThe story doesn&amp;rsquo;t pretend to know every word in the English
<a name="818"></a>        language.  The story might even occasionally use words in its
<a name="819"></a>        own descriptions that it doesn&amp;rsquo;t understand in commands.  If
<a name="820"></a>        you type a command with a word the story doesn&amp;rsquo;t know, the
<a name="821"></a>        story will tell you which word it didn&amp;rsquo;t recognize.  If the
<a name="822"></a>        story doesn&amp;rsquo;t know a word for something it described, and
<a name="823"></a>        it doesn&amp;rsquo;t know any synonyms for that thing, you can probably
<a name="824"></a>        assume that the object is just there as a detail of the setting,
<a name="825"></a>        and isn&amp;rsquo;t important to the story. ";
<a name="826"></a>    }
<a name="827"></a>
<a name="828"></a>    /* Ambiguous Commands chapter */
<a name="829"></a>    showAmbiguousCmdChapter()
<a name="830"></a>    {
<a name="831"></a>        "\b&lt;b&gt;Ambiguous Commands&lt;/b&gt;
<a name="832"></a>        \bIf you type a command that leaves out some important information,
<a name="833"></a>        the story will try its best to figure out what you mean.  Whenever
<a name="834"></a>        it&amp;rsquo;s reasonably obvious from context what you mean, the story
<a name="835"></a>        will make an assumption about the missing information and proceed
<a name="836"></a>        with the command.  The story will point out what it&amp;rsquo;s assuming
<a name="837"></a>        in these cases, to avoid any confusion from a mismatch between the
<a name="838"></a>        story&amp;rsquo;s assumptions and yours.  For example:
<a name="839"></a>
<a name="840"></a>        \b
<a name="841"></a>        \n\t &amp;gt;TIE THE ROPE
<a name="842"></a>        \n\t (to the hook)
<a name="843"></a>        \n\t The rope is now tied to the hook.  The end of the
<a name="844"></a>        \n\t rope nearly reaches the floor of the pit below.
<a name="845"></a>        
<a name="846"></a>        \bIf the command is ambiguous enough that the story can&amp;rsquo;t
<a name="847"></a>        safely make an assumption, you&amp;rsquo;ll be asked for more
<a name="848"></a>        information.  You can answer these questions by typing the
<a name="849"></a>        missing information.
<a name="850"></a>
<a name="851"></a>        \b
<a name="852"></a>        \n\t &amp;gt;UNLOCK THE DOOR
<a name="853"></a>        \n\t What do you want to unlock it with?
<a name="854"></a>        \b
<a name="855"></a>        \n\t &amp;gt;KEY
<a name="856"></a>        \n\t Which key do you mean, the gold key, or the silver key?
<a name="857"></a>        \b
<a name="858"></a>        \n\t &amp;gt;GOLD
<a name="859"></a>        \n\t Unlocked.
<a name="860"></a>
<a name="861"></a>        \bIf the story asks you one of these questions, and you decide
<a name="862"></a>        that you don&amp;rsquo;t want to proceed with the original command after
<a name="863"></a>        all, you can just type in a brand new command instead of answering
<a name="864"></a>        the question.";
<a name="865"></a>    }
<a name="866"></a>
<a name="867"></a>    /* Advance Command Formats chapter */
<a name="868"></a>    showAdvancedCmdChapter()
<a name="869"></a>    {
<a name="870"></a>        "\b&lt;b&gt;Advanced Command Formats&lt;/b&gt;
<a name="871"></a>        \bOnce you get comfortable with entering commands, you might
<a name="872"></a>        be interested to know about some more complex command formats
<a name="873"></a>        that the story will accept.  These advanced commands are all
<a name="874"></a>        completely optional, because you can always do the same things
<a name="875"></a>        with the simpler formats we&amp;rsquo;ve talked about so far, but
<a name="876"></a>        experienced players often like the advanced formats because
<a name="877"></a>        they can save you a little typing.
<a name="878"></a>
<a name="879"></a>        \b&lt;b&gt;Using Multiple Objects at Once&lt;/b&gt;
<a name="880"></a>        \bIn most commands, you can operate on multiple objects in
<a name="881"></a>        a single command.  Use the word AND, or a comma, to separate
<a name="882"></a>        one object from another:
<a name="883"></a>
<a name="884"></a>        \b
<a name="885"></a>        \n\t TAKE THE BOX, THE FLOPPY DISK, AND THE ROPE
<a name="886"></a>        \n\t PUT DISK AND ROPE IN BOX
<a name="887"></a>        \n\t DROP BOX AND ROPE
<a name="888"></a>        
<a name="889"></a>        \bYou can use the words ALL and EVERYTHING to refer to everything
<a name="890"></a>        applicable to your command, and you can use EXCEPT or BUT
<a name="891"></a>        (right after the word ALL) to exclude specific objects:
<a name="892"></a>
<a name="893"></a>        \b
<a name="894"></a>        \n\t TAKE ALL
<a name="895"></a>        \n\t PUT ALL BUT DISK AND ROPE INTO BOX
<a name="896"></a>        \n\t TAKE EVERYTHING OUT OF THE BOX
<a name="897"></a>        \n\t TAKE ALL OFF SHELF
<a name="898"></a>
<a name="899"></a>        \bALL refers to everything that makes sense for your command,
<a name="900"></a>        excluding things inside other objects matching the ALL.  For example,
<a name="901"></a>        if you&amp;rsquo;re carrying a box and a rope, and the box contains
<a name="902"></a>        a floppy disk, typing DROP ALL will drop the box and the rope,
<a name="903"></a>        and the floppy will remain in the box.
<a name="904"></a>
<a name="905"></a>        \b&lt;b&gt;&lt;q&gt;It&lt;/q&gt; and &lt;q&gt;Them&lt;/q&gt;&lt;/b&gt;
<a name="906"></a>        \bYou can use IT and THEM to refer to the last object or objects
<a name="907"></a>        that you used in a command:
<a name="908"></a>
<a name="909"></a>        \b
<a name="910"></a>        \n\t TAKE THE BOX
<a name="911"></a>        \n\t OPEN IT
<a name="912"></a>        \n\t TAKE THE DISK AND THE ROPE
<a name="913"></a>        \n\t PUT THEM IN THE BOX
<a name="914"></a>
<a name="915"></a>        \b&lt;b&gt;Multiple Commands At Once&lt;/b&gt;
<a name="916"></a>        \bYou can put multiple commands on a single input line by
<a name="917"></a>        separating the commands with periods or the word THEN, or
<a name="918"></a>        with a comma or AND.  For example:
<a name="919"></a>
<a name="920"></a>        \b
<a name="921"></a>        \n\t TAKE THE DISK AND PUT IT IN THE BOX
<a name="922"></a>        \n\t TAKE BOX. OPEN IT.
<a name="923"></a>        \n\t UNLOCK THE DOOR WITH THE KEY. OPEN IT, THEN GO NORTH.
<a name="924"></a>
<a name="925"></a>        \b If the story doesn&amp;rsquo;t understand one of the commands, it will
<a name="926"></a>        tell you what it couldn&amp;rsquo;t understand, and ignore everything after
<a name="927"></a>        that on the line.";
<a name="928"></a>    }
<a name="929"></a>
<a name="930"></a>    /* General Tips chapter */
<a name="931"></a>    showTipsChapter()
<a name="932"></a>    {
<a name="933"></a>        "\b&lt;b&gt;A Few Tips&lt;/b&gt;
<a name="934"></a>        \bNow that you know the technical details of entering commands,
<a name="935"></a>        you might be interested in some strategy pointers.  Here are
<a name="936"></a>        a few techniques that experienced interactive fiction players use
<a name="937"></a>        when approaching a story.
<a name="938"></a>
<a name="939"></a>        \bEXAMINE everything, especially when you enter a new location
<a name="940"></a>        for the first time.  Looking at objects will often reveal details
<a name="941"></a>        that aren&amp;rsquo;t mentioned in the broader description of the location.
<a name="942"></a>        If examining an object mentions detailed parts of the object,
<a name="943"></a>        examine them as well.
<a name="944"></a>
<a name="945"></a>        \bMake a map, if the story has more than a few locations.  When
<a name="946"></a>        you encounter a new location for the first time, note all of its
<a name="947"></a>        exits; this will make it easy to see at a glance if there are any
<a name="948"></a>        exits you haven&amp;rsquo;t explored yet.  If you get stuck, you can scan
<a name="949"></a>        your map for any unexplored areas, where you might find what
<a name="950"></a>        you&amp;rsquo;re looking for.
<a name="951"></a>
<a name="952"></a>        \bIf the story doesn&amp;rsquo;t recognize a word or any of its synonyms,
<a name="953"></a>        the object you&amp;rsquo;re trying to manipulate probably isn&amp;rsquo;t
<a name="954"></a>        important to the story.  If you try manipulating something, and the
<a name="955"></a>        story responds with something like &lt;q&gt;that isn&amp;rsquo;t important,&lt;/q&gt;
<a name="956"></a>        you can probably just ignore the object; it&amp;rsquo;s most likely just
<a name="957"></a>        there as scenery, to make the setting more detailed.
<a name="958"></a>
<a name="959"></a>        \bIf you&amp;rsquo;re trying to accomplish something, and nothing you do
<a name="960"></a>        seems to work, pay attention to what&amp;rsquo;s going wrong.  If
<a name="961"></a>        everything you try is met with utter dismissal (&lt;q&gt;nothing
<a name="962"></a>        happens&lt;/q&gt; or &lt;q&gt;that&amp;rsquo;s not something you can open&lt;/q&gt;), you
<a name="963"></a>        might simply be on the wrong track; step back and think about other
<a name="964"></a>        ways of approaching the problem.  If the response is something more
<a name="965"></a>        specific, it might be a clue. &lt;q&gt;The guard says &lt;q&gt;you can&amp;rsquo;t
<a name="966"></a>        open that here!&lt;/q&gt;\ and snatches the box from your hands&lt;/q&gt; &amp;mdash;
<a name="967"></a>        this might indicate that you have to get the guard to leave, or
<a name="968"></a>        that you should take the box somewhere else before you open it,
<a name="969"></a>        for example.
<a name="970"></a>
<a name="971"></a>        \bIf you get completely stuck, you might try setting aside the
<a name="972"></a>        current puzzle and working on a different problem for a while.
<a name="973"></a>        You might even want to save your position and take a break from
<a name="974"></a>        the game.  The solution to the problem that&amp;rsquo;s been
<a name="975"></a>        thwarting your progress might come to you in a flash of insight
<a name="976"></a>        when you least expect it, and those moments of insight can be
<a name="977"></a>        incredibly rewarding.  Some stories are best appreciated when
<a name="978"></a>        played over a period of days, weeks, or even months; if you&amp;rsquo;re
<a name="979"></a>        enjoying the story, why rush through it?
<a name="980"></a>
<a name="981"></a>        \bFinally, if all else fails, you can try asking for help.  A
<a name="982"></a>        great place to go for hints is the Interactive Fiction Community Forum at
<a name="983"></a>        &lt;a href='https://intfiction.org'&gt;https://intfiction.org&lt;/a&gt;. ";
<a name="984"></a>
<a name="985"></a>        "\n";
<a name="986"></a>    }
<a name="987"></a>
<a name="988"></a>    /* INSTRUCTIONS doesn't affect UNDO or AGAIN */
<a name="989"></a>    isRepeatable = nil
<a name="990"></a>    includeInUndo = nil
<a name="991"></a>;
<a name="992"></a>
<a name="993"></a>
<a name="994"></a>/* ------------------------------------------------------------------------ */
<a name="995"></a>/*
<a name="996"></a> *   define the INSTRUCTIONS command's grammar 
<a name="997"></a> */
<a name="998"></a>VerbRule(instructions) 
<a name="999"></a>    'instructions' 
<a name="1000"></a>    : VerbProduction
<a name="1001"></a>    action = Instructions
<a name="1002"></a>    verbPhrase = 'show/showing instructions'
<a name="1003"></a>;
<a name="1004"></a>
<a name="1005"></a>
<a name="1006"></a>/* ------------------------------------------------------------------------ */
<a name="1007"></a>/*
<a name="1008"></a> *   The instructions, rendered in menu form.  The menu format helps break
<a name="1009"></a> *   up the instructions by dividing the instructions into chapters, and
<a name="1010"></a> *   displaying a menu that lists the chapters.  This way, players can
<a name="1011"></a> *   easily go directly to the chapters they're most interested in, but
<a name="1012"></a> *   can also still read through the whole thing fairly easily.
<a name="1013"></a> *   
<a name="1014"></a> *   To avoid creating an unnecessary dependency on the menu subsystem for
<a name="1015"></a> *   games that don't want the menu-style instructions, we'll only define
<a name="1016"></a> *   the menu objects if the preprocessor symbol INSTRUCTIONS_MENU is
<a name="1017"></a> *   defined.  So, if you want to use the menu-style instructions, just
<a name="1018"></a> *   add -D INSTRUCTIONS_MENU to your project makefile.  
<a name="1019"></a> */
<a name="1020"></a>#ifdef INSTRUCTIONS_MENU
<a name="1021"></a>
<a name="1022"></a>/* a base class for the instruction chapter menus */
<a name="1023"></a>class InstructionsMenu: MenuLongTopicItem
<a name="1024"></a>    /* 
<a name="1025"></a>     *   present the instructions in "chapter" format, so that we can
<a name="1026"></a>     *   navigate from one chapter directly to the next 
<a name="1027"></a>     */
<a name="1028"></a>    isChapterMenu = true
<a name="1029"></a>
<a name="1030"></a>    /* the InstructionsAction property that we invoke to show our chapter */
<a name="1031"></a>    chapterProp = nil
<a name="1032"></a>
<a name="1033"></a>    /* don't use a heading, as we provide our own internal chapter titles */
<a name="1034"></a>    heading = ''
<a name="1035"></a>
<a name="1036"></a>    /* show our chapter text */
<a name="1037"></a>    menuContents = (Instructions.(self.chapterProp)())
<a name="1038"></a>;
<a name="1039"></a>
<a name="1040"></a>InstructionsMenu template 'title' -&gt;chapterProp;
<a name="1041"></a>
<a name="1042"></a>/*
<a name="1043"></a> *   The main instructions menu.  This can be used as a top-level menu;
<a name="1044"></a> *   just call the 'display()' method on this object to display the menu.
<a name="1045"></a> *   This can also be used as a sub-menu of any other menu, simply by
<a name="1046"></a> *   inserting this menu into a parent menu's 'contents' list.  
<a name="1047"></a> */
<a name="1048"></a>topInstructionsMenu: MenuItem 'How to Play Interactive Fiction';
<a name="1049"></a>
<a name="1050"></a>/* the chapter menus */
<a name="1051"></a>+ MenuLongTopicItem
<a name="1052"></a>    isChapterMenu = true
<a name="1053"></a>    title = 'Introduction'
<a name="1054"></a>    heading = nil
<a name="1055"></a>    menuContents()
<a name="1056"></a>    {
<a name="1057"></a>        "\b&lt;b&gt;Introduction&lt;/b&gt;
<a name="1058"></a>        \bWelcome!  If you&amp;rsquo;ve never played Interactive Fiction
<a name="1059"></a>        before, these instructions are designed to help you
<a name="1060"></a>        get started.  If you already know how to play this kind
<a name="1061"></a>        of game, you can probably skip the full instructions, but
<a name="1062"></a>        you might want to type ABOUT at the command prompt for a
<a name="1063"></a>        summary of the special features of this story.
<a name="1064"></a>        \b
<a name="1065"></a>        To make the instructions easier to navigate, they&amp;rsquo;re
<a name="1066"></a>        broken up into chapters. ";
<a name="1067"></a>
<a name="1068"></a>        if (curKeyList != nil &amp;&amp; curKeyList.length() &gt; 0)
<a name="1069"></a>            "At the end of each chapter, just press
<a name="1070"></a>            &lt;b&gt;&lt;&lt;curKeyList[M_SEL][1].toUpper()&gt;&gt;&lt;/b&gt; to proceed to
<a name="1071"></a>            the next chapter, or &lt;b&gt;&lt;&lt;curKeyList[M_PREV][1].toUpper()&gt;&gt;&lt;/b&gt;
<a name="1072"></a>            to return to the chapter list. ";
<a name="1073"></a>        else
<a name="1074"></a>            "To flip through the chapters, click on the links or
<a name="1075"></a>            use the Left/Right arrow keys. ";
<a name="1076"></a>    }
<a name="1077"></a>;
<a name="1078"></a>
<a name="1079"></a>+ InstructionsMenu 'Entering Commands' -&gt;(&amp;showCommandsChapter);
<a name="1080"></a>+ InstructionsMenu 'Command Abbreviations' -&gt;(&amp;showAbbrevChapter);
<a name="1081"></a>+ InstructionsMenu 'Travel' -&gt;(&amp;showTravelChapter);
<a name="1082"></a>+ InstructionsMenu 'Manipulating Objects' -&gt;(&amp;showObjectsChapter);
<a name="1083"></a>+ InstructionsMenu 'Interacting with Other Characters'
<a name="1084"></a>    -&gt;(&amp;showConversationChapter);
<a name="1085"></a>+ InstructionsMenu 'Time' -&gt;(&amp;showTimeChapter);
<a name="1086"></a>+ InstructionsMenu 'Saving and Restoring' -&gt;(&amp;showSaveRestoreChapter);
<a name="1087"></a>+ InstructionsMenu 'Other Special Commands' -&gt;(&amp;showSpecialCmdChapter);
<a name="1088"></a>+ InstructionsMenu 'Unknown Words' -&gt;(&amp;showUnknownWordsChapter);
<a name="1089"></a>+ InstructionsMenu 'Ambiguous Commands' -&gt;(&amp;showAmbiguousCmdChapter);
<a name="1090"></a>+ InstructionsMenu 'Advanced Command Formats' -&gt;(&amp;showAdvancedCmdChapter);
<a name="1091"></a>+ InstructionsMenu 'A Few Tips' -&gt;(&amp;showTipsChapter);
<a name="1092"></a>
<a name="1093"></a>#endif /* INSTRUCTIONS_MENU */
<a name="1094"></a>
</pre>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 25/04/2024 from adv3Lite version 2.0</div>
</body>
</html>
