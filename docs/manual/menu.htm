<html>
<!-- DERIVED FILE - DO NOT EDIT -->

<head>
<title>Optional Modules &mdash; Menus</title>
<link rel="stylesheet" href="sysman.css" type="text/css">
</head>
<body>
<div class="topbar"><img src="topbar.jpg" border=0></div>
<div class="nav">
<a class="nav" href="toc.htm">Table of Contents</a> | 
<a class="nav" href="core.htm">Optional Modules</a> &gt; 
Menus
<br><span class="navnp"><a class="nav" href="gadget.htm"><i>Prev:</i> Gadgets</a> &nbsp;&nbsp;&nbsp; <a class="nav" href="hint.htm"><i>Next:</i> Hints</a> &nbsp;&nbsp;&nbsp; </span>

</div>
<div class="main">
<h1>Menus</h1>
<p>The menusys.t module (which requires the menucon.t module) provides a way of displaying menus from which the player can make choices. It is identical to the adv3 module of the same name. If your game doesn't need any menus you can excluse menusys.t from your build, but you will need to include it if your game includes <a href="hint.t">hints.</a></p>

<p>Menus consist of <b>MenuItems</b>, <b>MenuTopicItems</b>, and <b>MenuLongTopicItems</b>.</p>
 
<p><b>MenuItems</b> are the menu (and sub-menu) items that the player will
select.  Their <b>title</b> attribute is what will be shown in the menu,
and the <b>heading</b> attribute is shown as the heading while the menu
itself is active; by default, the heading simply uses the title.</p>

<p><b>MenuTopicItems</b> are for lists of topic strings that the player will
 be shown, like hints. <b>title</b> is what will be shown in the menu;
 <b>menuContents</b> is a list of either strings to be displayed, one at a
 time, or objects which each must return a string via a "menuContents"
method.</p>

<p><b>MenuLongTopicItems</b> are for longer discourses. <b>title</b> is what will
 be shown in the menu; <b>menuContents</b> is either a (single-quoted or doube-quoted) string to be displayed
 or a routine to be called.</b>
   
<p>advLite.h contains templates for MenuItem and MenuLongTopicItem, for your convenience.</p>
 
<p>A simple example menu:</p>
 
<p><div class=code><pre>
   FirstMenu: MenuItem 'Test menu';
   + MenuItem 'Pets';
   ++ MenuItem 'Chinchillas';
   +++ MenuTopicItem 'About them'
       menuContents = ['Furry', 'South American', 'Curious', 'Note: Not a coat'];
   +++ MenuTopicItem 'Benefits'
        menuContents = ['Non-allergenic', 'Cute', 'Require little space'];
   +++ MenuTopicItem 'Downsides'
         menuContents = ['Require dust baths', 'Startle easily'];
   ++ MenuItem 'Cats';
   +++ MenuLongTopicItem 'Pure evil'
      menuContents = 'Cats are, quite simply, pure evil. I would provide
                      ample evidence were there room for it in this
                      simple example.';
   +++ MenuTopicItem 'Benefits'
     menuContents = ['They, uh, well...', 'Okay, I can\'t think of any.'];
 
</pre></div>

<p>To display the menu in the first place, call its <b>display()</b> method. For example, to display the menu in the above example you would use the statement <span class=code>FirstMenu.display()</span>.</p>
Note that some interpreters (e.g. text-only interpreters) cannot cope with a menu that shows more than nine items at a time, so you may want to arrange your menus accordingly (for example, by dividing them up between sub-menus if the player might need to choose between more than nine items).</p>

<p>You might typically use a menu to give your players information about your game at the beginning (in response to an ABOUT command, say), and maybe to show some options at the end (in response to an AMUSING command, say). To construct an ABOUT menu you would typically use a MenuItem for the top-level aboutMenu, with a number of MenuLongTopicItems to describe various aspects of your game; if you have a lot to say you might need to use another level of MenuItems to divide your information into sub-menus, e.g.:</b>

<p><div class=code><pre>
   aboutMenu: MenuItem 'About';
   + MenuItem 'About Adventure';
   
   ++ MenuLongTopicItem 'About the Game'
       menuContents = 'This charming piece is something I cribbed off an obscure
	     work by Crowther and Woods. '
   ;	
	
   ++ MenuLongTopicItem 'Special Commands'
       'Under no circumstances should you use the commands
		 PLUGH and XYZZY without a special license. '   
   ;
	
   + MenuItem 'Playing TADS games';
   
   ++ MenuLongTopicItem 'Standard Commands'
       menuContents = "Common IF commands include EXAMINE, TAKE..."
   ;
	
   ++ MenuLongTopicItem 'Conversational Commands'
      "TADS games use a modified version of the ASK/TELL system..."
   ;
 
</pre></div>
<p>You could then call <span class=code>aboutMenu.display();</span> in the versionInfo.showAbout() method. The above examples also illustrate how menu definitions can be abbreviated through the use of the relevant templates.</p>

</div>
<hr class="navb"><div class="navb">
<i>adv3Lite Library Manual</i><br>
<a class="nav" href="toc.htm">Table of Contents</a> | 
<a class="nav" href="optional.htm">Optional Modules</a> &gt; 
Menus
<br><span class="navnp"><a class="nav" href="gadget.htm"><i>Prev:</i> Gadgets</a> &nbsp;&nbsp;&nbsp; <a class="nav" href="hint.htm"><i>Next: </i>Hints </a> &nbsp;&nbsp;&nbsp; </span>

</div>
</body>
</html>