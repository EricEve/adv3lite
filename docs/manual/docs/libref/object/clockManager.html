<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>clockManager</title></head><body>
<table class=ban><tr><td align=left><span class=title>clockManager</span><span class=type>object</span><td align=right><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#29">29</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   The clockManager object is used to keep track of subjective time. In this   version we store dates and times internally as Date objects, although we   recognize date/times in the form [d, h, m] defined on ClockEvents.   [DEFINED IN SUBTIME EXTENSION] 
<p>
<code><b>clockManager</b> :  &nbsp; <a href="../object/PreinitObject.html">PreinitObject</a></code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>clockManager</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/PreinitObject.html">PreinitObject</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/ModuleExecObject.html">ModuleExecObject</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#baseDate">baseDate</a>&nbsp; 
<a href="#baseScaleFactor">baseScaleFactor</a>&nbsp; 
<a href="#curTime">curTime</a>&nbsp; 
<a href="#eventList">eventList</a>&nbsp; 
<a href="#lastEvent">lastEvent</a>&nbsp; 
<a href="#nextEvent">nextEvent</a>&nbsp; 
<a href="#nextTime">nextTime</a>&nbsp; 
<a href="#scaleFactor">scaleFactor</a>&nbsp; 
<a href="#turnLastCommitted">turnLastCommitted</a>&nbsp; 
</code><p>
<p>Inherited from <code>PreinitObject</code> :<br>
<code>
<a href="../object/PreinitObject.html#execBeforeMe">execBeforeMe</a>&nbsp; 
<a href="../object/PreinitObject.html#reverseGlobalSymbols">reverseGlobalSymbols</a>&nbsp; 
</code><p>
<p>Inherited from <code>ModuleExecObject</code> :<br>
<code>
<a href="../object/ModuleExecObject.html#execAfterMe">execAfterMe</a>&nbsp; 
<a href="../object/ModuleExecObject.html#hasInitialized_">hasInitialized_</a>&nbsp; 
<a href="../object/ModuleExecObject.html#isDoingExec_">isDoingExec_</a>&nbsp; 
<a href="../object/ModuleExecObject.html#isExecuted_">isExecuted_</a>&nbsp; 
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#checkTime">checkTime</a>&nbsp; 
<a href="#checkTimeFmt">checkTimeFmt</a>&nbsp; 
<a href="#eventDate">eventDate</a>&nbsp; 
<a href="#eventReached">eventReached</a>&nbsp; 
<a href="#execute">execute</a>&nbsp; 
<a href="#formatTime">formatTime</a>&nbsp; 
<a href="#getClockTime">getClockTime</a>&nbsp; 
<a href="#lastEventDate">lastEventDate</a>&nbsp; 
<a href="#reachCheck">reachCheck</a>&nbsp; 
<a href="#slowDownTime">slowDownTime</a>&nbsp; 
<a href="#syncTime">syncTime</a>&nbsp; 
</code><p>
<code>
</code><p>
<p>Inherited from <code>ModuleExecObject</code> :<br>
<code>
<a href="../object/ModuleExecObject.html#_execute">_execute</a>&nbsp; 
<a href="../object/ModuleExecObject.html#classExec">classExec</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="baseDate"></a>
<table class=decl><tr><td><code>baseDate</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#443">443</a>]</table><div class=desc>   The base date (year, month, day) our game is meant to start on,   expressed as a Date object. Often this doesn't matter if we're only   interested in the time of day. By default we make it Jan 1, 2000. If   gameMain.gameStartDate is defines it will instead be taken from there. <p>
</div>
<a name="baseScaleFactor"></a>
<table class=decl><tr><td><code>baseScaleFactor</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#201">201</a>]</table><div class=desc>   The base scaling factor: this is the number of minutes per hundred   turns when we have unlimited time until the next event.  This number is   pretty arbitrary, since we're depending so much on the player's   uncertainty about just how long things take, and also because we'll   adjust it anyway when we're running out of time before the next event.   Even so, you might want to adjust this value up or down according to   your sense of the pacing of your game. <p>   In Mike Roberts's implementation, the baseScaleFactor was defined as a   constant value of 60. This is still the default value, but if there is   a next event we take the scale factor from that event's scaleFactor so   that we can vary the pace of time according to the spacing of events if   we wish. <p>
</div>
<a name="curTime"></a>
<table class=decl><tr><td><code>curTime</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#416">416</a>]</table><div class=desc>the current game clock time<p>
</div>
<a name="eventList"></a>
<table class=decl><tr><td><code>eventList</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#413">413</a>]</table><div class=desc>   our list of clock events (we build this automatically during   pre-initialization) <p>
</div>
<a name="lastEvent"></a>
<table class=decl><tr><td><code>lastEvent</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#419">419</a>]</table><div class=desc>the most recent event that we reached<p>
</div>
<a name="nextEvent"></a>
<table class=decl><tr><td><code>nextEvent</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#425">425</a>]</table><div class=desc>the next event we're due to reach<p>
</div>
<a name="nextTime"></a>
<table class=decl><tr><td><code>nextTime</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#422">422</a>]</table><div class=desc>the next event's game clock time<p>
</div>
<a name="scaleFactor"></a>
<table class=decl><tr><td><code>scaleFactor</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#208">208</a>]</table><div class=desc>   The scaling factor to use once we have passed the last ClockEvent; this   is the number of minutes per hundred turns once there are no more   ClockEvents. <p>
</div>
<a name="turnLastCommitted"></a>
<table class=decl><tr><td><code>turnLastCommitted</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#435">435</a>]</table><div class=desc>   The turn counter (Schedulable.gameClockTime) on the last turn   where committed to a specific time.  Each time we check the time,   we look here to see how many turns have elapsed since the last   time check, and we use this to choose a plausible scale for the   wall-clock time change. <p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="checkTime"></a>
<table class=decl><tr><td><code>checkTime ( )</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#49">49</a>]</table><div class=desc>   Get the current game-clock time.  This returns date/time as a Date   object. <p>   Remember that our time-keeping scheme is a sort of "Schrodinger's   clock" [see footnote 1].  Between time checks, the game time clock is   in a vague, fuzzy state, drifting along at an indeterminate pace from   the most recent check.  When this method is called, though, the clock   manager is forced to commit to a particular time, because we have to   give a specific answer to the question we're being asked ("what time is   it?").  As in quantum mechanics, then, the act of observation affects   the quantity being observed.  Therefore, you should avoid calling this   routine unnecessarily; call it only when you actually have to tell the   player what time it is - and don't tell the player what time it is   unless they ask, or there's some other good reason. <p>   If you want a string-formatted version of the time (as in '9:05pm'),   you can call checkTimeFmt(). <p>
</div>
<a name="checkTimeFmt"></a>
<table class=decl><tr><td><code>checkTimeFmt (fmt)</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#220">220</a>]</table><div class=desc>   Get the current game-clock time, formatted into a string with the   given format mask - see formatTime() for details on how to write a   mask string. <p>   Note that the same cautions for checkTime() apply here - calling   this routine commits us to a particular time, so you should call   this routine only when you're actually ready to display a time to   the player. <p>
</div>
<a name="eventDate"></a>
<table class=decl><tr><td><code>eventDate (t)</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#446">446</a>]</table><div class=desc>Return the date of t as a Date object.<p>
</div>
<a name="eventReached"></a>
<table class=decl><tr><td><code>eventReached (evt)</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#326">326</a>]</table><div class=desc>   Receive notification from a clock event that an event has just   occurred.  (This isn't normally called directly from game code;   instead, game code should usually call the ClockEvent object's   eventReached() method.) <p>
</div>
<a name="execute"></a>
<table class=decl><tr><td><code>execute ( )</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#247">247</a>]</table><div class=desc>pre-initialize<p>
</div>
<a name="formatTime"></a>
<table class=decl><tr><td><code>formatTime (t, fmt)</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#233">233</a>]</table><div class=desc>   Get a formatted version of the given wall-clock time.  The time (t)   parameter can be expressed as a list, in the same format as   ClockEvent.eventTime: [day,hour,minute], where 'day' is 1 for the first   day of the game, 2 for the second, and so on. Alternatively it can be   supplied as a Date object. <p>   The format string (fmt) is specified in the same way as for the   formatDate() method of the Date class (for which see the TADS 3 System   Manual). <p>
</div>
<a name="getClockTime"></a>
<table class=decl><tr><td><code>getClockTime (dat)</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#478">478</a>]</table><div class=desc>Get the time in our [d, h, m, s] format from a Date object.<p>
</div>
<a name="lastEventDate"></a>
<table class=decl><tr><td><code>lastEventDate ( )</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#472">472</a>]</table><div class=desc>Retutn the date and time of the last event as a Date object.<p>
</div>
<a name="reachCheck"></a>
<table class=decl><tr><td><code>reachCheck ( )</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#384">384</a>]</table><div class=desc>   Check each turn whether another ClockEvent has been reached. Note that   this requires the events.t module to be present to work. <p>
</div>
<a name="slowDownTime"></a>
<table class=decl><tr><td><code>slowDownTime ( )</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#170">170</a>]</table><div class=desc>   Compute the time remaining until the next event at which we start to   slow down the clock. By default we make this half the time from the   previous event to the next. Game code can override if some other value   is preferred. <p>
</div>
<a name="syncTime"></a>
<table class=decl><tr><td><code>syncTime (t)</code><td align=right><code><a href="../file/subtime.t.html">subtime.t</a>[<a href="../source/subtime.t.html#496">496</a>]</table><div class=desc>Synchronize the timeManager's time with our time, if it exists.<p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 12/09/2014 from adv3Lite version 1.4</div>
</body>
</html>
