<html>
<head><link rel=stylesheet type="text/css" href="../libref.css"><title>ActorState</title></head><body>
<table class=ban><tr><td align=left><span class=title>ActorState</span><span class=type>class</span><td align=right><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2418">2418</a>]</table><p>
<table class=nav><tr>
<td><a href="#_SuperClassTree_">Superclass<br>Tree</a>
<td><a href="#_SubClassTree_">Subclass<br>Tree</a>
<td><a href="#_ObjectSummary_">Global<br>Objects</a>
<td><a href="#_PropSummary_">Property<br>Summary</a>
<td><a href="#_MethodSummary_">Method<br>Summary</a>
<td><a href="#_Properties_">Property<br>Details</a>
<td><a href="#_Methods_">Method<br>Details</a>
</table><div class=fdesc>
   An ActorState represents a state (possibly one of many) an actor can be in   or get into. This can control how the actor is described and the actor's   response to certain conversational commands and other actions. <p>   ActorStates should always be located directly in the Actor to which they   belong. 
<p>
<code>class 
<b>ActorState</b> :  &nbsp; <a href="../object/EndConvBlocker.html">EndConvBlocker</a> &nbsp; <a href="../object/ActorTopicDatabase.html">ActorTopicDatabase</a></code>
</div>
<a name="_SuperClassTree_"></a><p><div class=mjhd><span class=hdln>Superclass Tree</span> &nbsp; (in declaration order)</div><p>
<code><b>ActorState</b></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/EndConvBlocker.html">EndConvBlocker</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/ActorTopicDatabase.html">ActorTopicDatabase</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; <a href="../object/TopicDatabase.html">TopicDatabase</a></code><br>
<code> &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; object</code><br>
<a name="_SubClassTree_"></a><p><div class=mjhd><span class=hdln>Subclass Tree</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_ObjectSummary_"></a><p><div class=mjhd><span class=hdln>Global Objects</span> &nbsp; </div><p>
<i>(none)</i>
<a name="_PropSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Properties</span> &nbsp; </div><p>
<code>
<a href="#active">active</a>&nbsp; 
<a href="#attentionSpan">attentionSpan</a>&nbsp; 
<a href="#getActor">getActor</a>&nbsp; 
<a href="#informOverheard">informOverheard</a>&nbsp; 
<a href="#isInitState">isInitState</a>&nbsp; 
<a href="#noResponse">noResponse</a>&nbsp; 
<a href="#pcJustArrived">pcJustArrived</a>&nbsp; 
<a href="#specialDesc">specialDesc</a>&nbsp; 
<a href="#stateDesc">stateDesc</a>&nbsp; 
</code><p>
<code>
</code><p>
<p>Inherited from <code>ActorTopicDatabase</code> :<br>
<code>
<a href="../object/ActorTopicDatabase.html#askForTopics">askForTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#askTopics">askTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#commandTopics">commandTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#defaultAgendaTopic">defaultAgendaTopic</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#giveTopics">giveTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#initiateTopics">initiateTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#miscTopics">miscTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#queryTopics">queryTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#sayTopics">sayTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#showTopics">showTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#talkTopics">talkTopics</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#tellTopics">tellTopics</a>&nbsp; 
</code><p>
<code>
</code><p>
<a name="_MethodSummary_"></a><p><div class=mjhd><span class=hdln>Summary of Methods</span> &nbsp; </div><p>
<code>
<a href="#activateState">activateState</a>&nbsp; 
<a href="#addToActor">addToActor</a>&nbsp; 
<a href="#afterAction">afterAction</a>&nbsp; 
<a href="#afterTravel">afterTravel</a>&nbsp; 
<a href="#arrivingTurn">arrivingTurn</a>&nbsp; 
<a href="#beforeAction">beforeAction</a>&nbsp; 
<a href="#beforeTravel">beforeTravel</a>&nbsp; 
<a href="#canEndConversation">canEndConversation</a>&nbsp; 
<a href="#deactivateState">deactivateState</a>&nbsp; 
<a href="#getBestMatch">getBestMatch</a>&nbsp; 
<a href="#initializeActorState">initializeActorState</a>&nbsp; 
<a href="#remoteSpecialDesc">remoteSpecialDesc</a>&nbsp; 
<a href="#sayArriving">sayArriving</a>&nbsp; 
<a href="#sayDeparting">sayDeparting</a>&nbsp; 
<a href="#sayFollowing">sayFollowing</a>&nbsp; 
</code><p>
<p>Inherited from <code>EndConvBlocker</code> :<br>
<code>
<a href="../object/EndConvBlocker.html#blockEndConv">blockEndConv</a>&nbsp; 
</code><p>
<p>Inherited from <code>ActorTopicDatabase</code> :<br>
<code>
<a href="../object/ActorTopicDatabase.html#initiateTopic">initiateTopic</a>&nbsp; 
<a href="../object/ActorTopicDatabase.html#listableTopics">listableTopics</a>&nbsp; 
</code><p>
<p>Inherited from <code>TopicDatabase</code> :<br>
<code>
<a href="../object/TopicDatabase.html#addTopic">addTopic</a>&nbsp; 
</code><p>
<a name="_Properties_"></a><p><div class=mjhd><span class=hdln>Properties</span> &nbsp; </div><p>
<a name="active"></a>
<table class=decl><tr><td><code>active</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2606">2606</a>]</table><div class=desc>   The active property is used by any TopicGroups and TopicEntries located   directly within us to determine whether they in turn are active.   Normally there is no reason for game code to override this on an   ActorState; the property is simply provided so that TopicGroups and   TopicEntries can call location.active regardless of whether they're   located in TopicGroups, ActorStates or Actors. <p>
</div>
<a name="attentionSpan"></a>
<table class=decl><tr><td><code>attentionSpan</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2547">2547</a>]</table><div class=desc>   Our actor's attention span while our actor is in this ActorState. This   is the number of turns the actor will wait for the player character to   say something when a our actor is the player character's current   conversation partner, before our actor gives up on the conversation and   terminates it through 'boredom'. A value of nil (the default) means our   actor is infinitely patient and will never terminate a conversation for   this reason. <p>
</div>
<a name="getActor"></a>
<table class=decl><tr><td><code>getActor</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2535">2535</a>]</table><div class=desc>   Our associated actor. This is set to our location at preinit by our   initializeActorState method. <p>
</div>
<a name="informOverheard"></a>
<table class=decl><tr><td><code>informOverheard</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2737">2737</a>]</table><div class=desc>   Should other actors who can notionally hear the PC talking to us   overhear when information is imparted to us and we're in this   ActorState? I.e. should their setInform() methods be called too? By   default they should. <p>
</div>
<a name="isInitState"></a>
<table class=decl><tr><td><code>isInitState</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2445">2445</a>]</table><div class=desc>   Set isInitState to true if you want this ActorState to be the one the   associated Actor starts out in. <p>
</div>
<a name="noResponse"></a>
<table class=decl><tr><td><code>noResponse</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2620">2620</a>]</table><div class=desc>   If the noResponse method is defined (i.e. non-nil) then this ActorState   will behave like a TADS 3 HermitActorState, i.e. the noResponse message   will be displayed in response to any conversational command <p>   noResponse can be either a single-quoted string, a double-quoted string   or a method. If it's a string then it will be displayed instead of any   TopicEntry. It it's a method it will be executed; if it then displays   anything no attempt will be made to match a TopicEntry, but it if   doesn't display anything the conversational command will go on to be   handled as normal. <p>
</div>
<a name="pcJustArrived"></a>
<table class=decl><tr><td><code>pcJustArrived</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2586">2586</a>]</table><div class=desc>Flag -- has the player character just arrived?<p>
</div>
<a name="specialDesc"></a>
<table class=decl><tr><td><code>specialDesc</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2431">2431</a>]</table><div class=desc>   The specialDesc from the actor's current ActorState is used as the   specialDesc for that actor in a room listing. <p>
</div>
<a name="stateDesc"></a>
<table class=decl><tr><td><code>stateDesc</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2425">2425</a>]</table><div class=desc>   The stateDesc from the actor's current ActorState is appended to the   desc defined on the actor when the actor is described via an EXAMINE   command. <p>
</div>
<a name="_Methods_"></a><p><div class=mjhd><span class=hdln>Methods</span> &nbsp; </div><p>
<a name="activateState"></a>
<table class=decl><tr><td><code>activateState (actor, oldState)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2561">2561</a>]</table><div class=desc>   Activate the state - this is called when we're about to become   the active state for an actor.  We do nothing by default. <p>
</div>
<a name="addToActor"></a>
<table class=decl><tr><td><code>addToActor ( )</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2472">2472</a>]</table><div class=desc>Add this ActorState to our actor's list of ActorStates<p>
</div>
<a name="afterAction"></a>
<table class=decl><tr><td><code>afterAction ( )</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2490">2490</a>]</table><div class=desc>   The afterAction() method is called on an actor's current ActorState   when the actor is in scope for the action that's just taken place. This   allows game code to define state-specific reactions. <p>
</div>
<a name="afterTravel"></a>
<table class=decl><tr><td><code>afterTravel (traveler, connector)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2583">2583</a>]</table><div class=desc>   The afterTravel notification triggered when the Actor is in this   ActorState and traveler has just traveled via connector. By default we   do nothing. <p>
</div>
<a name="arrivingTurn"></a>
<table class=decl><tr><td><code>arrivingTurn ( )</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2553">2553</a>]</table><div class=desc>   the arrivingTurn method is executed when an actor in this state has   just followed the player char to a new location. <p>
</div>
<a name="beforeAction"></a>
<table class=decl><tr><td><code>beforeAction ( )</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2498">2498</a>]</table><div class=desc>   The beforeAction() method is called on an actor's current ActorState   when the actor is in scope for the action that's just about to take   place. This allows game code to define state-specific reactions. <p>
</div>
<a name="beforeTravel"></a>
<table class=decl><tr><td><code>beforeTravel (traveler, connector)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2576">2576</a>]</table><div class=desc>   The beforeTravel notification triggered when the Actor is in this   ActorState and traveler is just about to travel via connector. By   default we do nothing. <p>
</div>
<a name="canEndConversation"></a>
<table class=decl><tr><td><code>canEndConversation (reason)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2596">2596</a>]</table><div class=desc>   Determine whether our actor will allow a current conversation to be   terminated for reason when in this ActorState. Return true to allow the   conversation to be terminated and nil otherwise. By default we simply   return true. If we return nil we should also display a message   explaining why we're not allowing the conversation to end. <p>
</div>
<a name="deactivateState"></a>
<table class=decl><tr><td><code>deactivateState (actor, newState)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2568">2568</a>]</table><div class=desc>   Deactivate the state - this is called when we're the active state   for an actor, and the actor is about to switch to a new state.   We do nothing by default. <p>
</div>
<a name="getBestMatch"></a>
<table class=decl><tr><td><code>getBestMatch (prop, requestedList)</code><span class=rem>OVERRIDDEN</span><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2630">2630</a>]</table><div class=desc>   The getBestMatch() method is already defined on TopicDatabase, from   which ActorState inherits via ActorTopicDatabase. ActorState overrides   it to allow certain modifications particular to ActorState, such as the   possibility that the prop parameter might be passed as either a list or   a property pointer to a list property, and the need to take into   account the actor's activeKeys list. <p>
</div>
<a name="initializeActorState"></a>
<table class=decl><tr><td><code>initializeActorState ( )</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2449">2449</a>]</table><div class=desc>Initialize this ActorState (this is actually called at preinit).<p>
</div>
<a name="remoteSpecialDesc"></a>
<table class=decl><tr><td><code>remoteSpecialDesc (pov)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2438">2438</a>]</table><div class=desc>   If our associated actor is viewed from a remote location, use the   ActorState's remoteSpecialDesc to describe the actor in a room listing.   By default we just use the specialDesc. <p>
</div>
<a name="sayArriving"></a>
<table class=decl><tr><td><code>sayArriving (fromLoc)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2528">2528</a>]</table><div class=desc>   The message to display when the player char sees this actor arriving   after traveling from loc. By default we simply use our actor's   sayActorArriving(fromLoc) method. <p>
</div>
<a name="sayDeparting"></a>
<table class=decl><tr><td><code>sayDeparting (conn)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2521">2521</a>]</table><div class=desc>   Display a message saying that our associated actor (typically an NPC   whose departure is being viewed by the player character) is departing   via conn. By default we simply use our actor's sayActorDeparting(conn)   method. <p>
</div>
<a name="sayFollowing"></a>
<table class=decl><tr><td><code>sayFollowing (oldLoc, conn)</code><td align=right><code><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#2505">2505</a>]</table><div class=desc>   Display a message saying that we're following the player character from   oldLoc when our actor is in this ActorState (and the actor is following   the player character) <p>
</div>
<div class=ftr>Adv3Lite Library Reference Manual<br>Generated on 28/03/2016 from adv3Lite version 1.5</div>
</body>
</html>
