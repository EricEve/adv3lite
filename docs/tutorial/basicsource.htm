<html>
<!-- DERIVED FILE - DO NOT EDIT -->

<head>
<title>Heidi: our first adv3Lite game &mdash; Creating the Basic Source File</title>
<link rel="stylesheet" href="sysman.css" type="text/css">
</head>
<body>
<div class="topbar"><img src="topbar.jpg" border=0></div>
<div class="nav">
<a class="nav" href="toc.htm">Table of Contents</a> | 
<a class="nav" href="heidi.htm">Heidi: our first adv3Lite game</a> &gt; 
Creating the Basic Source File
<br><span class="navnp"><a class="nav" href="heidi.htm"><i>Prev:</i> Heidi: our first adv3Lite game</a> &nbsp;&nbsp;&nbsp; <a class="nav" href="understanding.htm"><i>Next:</i> Understanding the Source File</a> &nbsp;&nbsp;&nbsp; </span>

</div>
<div class="main">
<h1>Creating the Basic Source File</h1>

<p>If you followed the steps for creating a project in the last chapter, you should have a basic project already created for starting to write the Heidi game. If not, go <a href="setting.htm">back</a> and follow them now.</p>

<p>If you're using Windows Workbench, open the heidi.t3m project in the Heidi folder (using File -> Open Project from the menu), then select the start.t file from the list of files in the left hand (file list) pane and double-click on it to open it in the Workbench editor. If you're not using Workbench, navigate to your Heidi directory and open start.t in your text editor. You should now see a file that looks like this:</p>
 <p><div class="code"><pre>
#charset "us-ascii"

#include &lt;tads.h&gt;
#include "advlite.h"

versionInfo: GameID
    IFID = '' // obtain IFID from http://www.tads.org/ifidgen/ifidgen
    name = 'My Game'
    byline = 'by A.N. Author'
    htmlByline = 'by &lt;a href=&quot;mailto:an.author@somemail.com&quot;&gt;
                  A.N. Author&lt;/a&gt;'
    version = '1'
    authorEmail = 'A.N. Author &lt;an.author@somemail.com&gt;'
    desc = 'Your blurb here.'
    htmlDesc = 'Your blurb here.'    
    
;

gameMain: GameMainDef
    /* Define the initial player character; this is compulsory */
    initialPlayerChar = me
;


/* The starting location; this can be called anything you like */

startroom: Room 'The Starting Location'
    "Add your description here. "
;

/* 
 *   The player character object. This doesn't have to be called me, but me is a
 *   convenient name. If you change it to something else, rememember to change
 *   gameMain.initialPlayerChar accordingly.
 */

+ me: Thing 'you'   
    isFixed = true    
    proper = true
    ownsContents = true
    person = 2   
    contType = Carrier    
;
</pre></div>

<p>Don't worry too much about what all that means for the moment, we'll be explaining it all in due course. A couple of points should be emphasized right from the outset, however:</p>
<ol>
<li>Punctuation is important. A single semi-colon missed out or put in the wrong place can easily result in a bunch of compilation errors. Watch out for this when you write your own code!</li>
<li>Precise spelling and the case of letters are both important. If you go on to refer to <span class="code">startRoom</span> or <span class="code">statroom</span>, TADS 3 won't know that you mean the same thing as <span class="code">startroom</span>, so be very careful to copy the spelling of everything, including the case of letters, when you go on to type in code as instructed below.</li>
</ol>

<p>With those preliminaries out of the way, we can go on to make our basic source file a little less generic and a little more relevant to the game we're about to write. Edit your copy of the file so it reads as it does below (to help you with this the main changes are shown in bold):</p>

 <p><div class="code"><pre>
#charset "us-ascii"

#include &lt;tads.h&gt;
#include "advlite.h"

versionInfo: GameID
    IFID = '' // obtain IFID from http://www.tads.org/ifidgen/ifidgen
    name = '<strong>The Adventures of Heidi</strong>'
    byline = 'by A.N. Author'
    htmlByline = 'by &lt;a href=&quot;mailto:an.author@somemail.com&quot;&gt;
                  A.N. Author&lt;/a&gt;'
    version = '1'
    authorEmail = 'A.N. Author &lt;an.author@somemail.com&gt;'
    desc = '<strong>A simple game borrowed from the Inform Beginner\'s Guide by Roger
        Firth and Sonja Kesserich.</strong>'
    htmlDesc = <strong>'A simple game borrowed from the &lt;i&gt;Inform Beginner\'s Guide&lt;/i&gt;
        by Roger Firth and Sonja Kesserich.</strong>'    
    
;

gameMain: GameMainDef
    /* Define the initial player character; this is compulsory */
    initialPlayerChar = me
;


/* The starting location; this can be called anything you like */

<strong>beforeCottage: Room 'In front of a Cottage'
    "You stand outside a cottage. The forest stretches east. "
;</strong>

/* 
 *   The player character object. This doesn't have to be called me, but me is a
 *   convenient name. If you change it to something else, rememember to change
 *   gameMain.initialPlayerChar accordingly.
 */

+ me: Thing 'you<strong>;;heidi</strong>'   
    isFixed = true    
    proper = true
    ownsContents = true
    person = 2   
    contType = Carrier    
;
</pre></div>

<p>If you like, you can also change the byline, htmlByline and authorEmail fields to reflect your own name and email address (though for this exercise it won't matter much if you don't).</p>

<p>When you've done all that, try compiling and running the game as you now have it (in Workbench, just click the 'Go' button at the left-hand end of the toolbar; otherwise follow the instructions at the end of the last chapter). The interpreter should then display something like this:</p>


<p><div class="cmdline"><pre>
<strong>In front of a Cottage</strong>
You stand outside a cottage. The forest stretches east.
</pre></div>

<p>If you don't get this, check very carefully that your version of the code in start.t corresponds <em>exactly</em> to that given immediately above (the precise amount of white space doesn't matter much, but just about everything else does) and then try again until you get it working.</p>

<p>Even when you do get it working, it isn't much of a game yet. You can try a couple of commands like X ME and X HEIDI, but even then the responses aren't terribly exciting, and just about everything else will result in a refusal to act. We'll be livening things up a bit soon, but first we should pause and reflect what we've got in our source file so far actually means; that's what we'll do next.</p>

</div>
<hr class="navb"><div class="navb">
<i>adv3Lite Library Tutorial</i><br>
<a class="nav" href="toc.htm">Table of Contents</a> | 
<a class="nav" href="heidi.htm">Heidi: our first adv3Lite game</a> &gt; 
Creating the Basic Source File
<br><span class="navnp"><a class="nav" href="heidi.htm"><i>Prev:</i> Heidi: our first adv3Lite game</a> &nbsp;&nbsp;&nbsp; <a class="nav" href="understanding.htm"><i>Next:</i> Understanding the Source File</a> &nbsp;&nbsp;&nbsp; </span>

</div>
</body>
</html>