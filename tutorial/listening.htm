<html>
<!-- DERIVED FILE - DO NOT EDIT -->

<head>
<title>Heidi Revisited &mdash; Listening to the Bird</title>
<link rel="stylesheet" href="sysman.css" type="text/css">
</head>
<body>
<div class="topbar"><img src="topbar.jpg" border=0></div>
<div class="nav">
<a class="nav" href="toc.htm">Table of Contents</a> | 
<a class="nav" href="revisit.htm">Heidi Revisited</a> &gt; 
Listening to the Bird
<br><span class="navnp"><a class="nav" href="revisit.htm"><i>Prev:</i> Heidi Revisited</a> &nbsp;&nbsp;&nbsp; <a class="nav" href="cottage.htm"><i>Next:</i> Entering the Cottage</a> &nbsp;&nbsp;&nbsp; </span>

</div>
<div class="main">
<h1>Listening to the Bird</h1>

<p>The very simple game we implemented in Chapter 3 is just about all right &mdash; provided all its players do exactly what we expect them to. As soon as any of them depart from our expected script, problems may begin to emerge. For example, consider this opening transcript which could well be generated by someone playing the game:</p>

<p><div class="cmdline"><pre>
<strong>In front of a Cottage</strong>
You stand outside a cottage. The forest stretches east. 

<strong>&gt;e</strong>

<strong>Deep in the forest</strong>
Through the dense foliage, you glimpse a building to the west. A track heads to the northeast. 

You can see a baby bird here.

<strong>&gt;x bird</strong>
Too young to fly, the nestling tweets helplessly. 

<strong>&gt;listen to bird</strong>
You hear nothing out of the ordinary.

</pre></div>

<p>Since the description of the bird calls attention to the sound it's making, this final response is rather jarring; most players would take it as evidence of a poorly-implemented game. While "You hear nothing out of the ordinary" is okay as a default response to commands like LISTEN TO NEST or LISTEN TO TREE, it just won't pass muster here. It's easy enough to put right, though; all we need to do is to override the <strong>listenDesc</strong> property of the bird to provide a more satisfactory response:</p>

 <p><div class="code"><pre>
+ bird: Thing 'baby bird;;nestling'
    "Too young to fly, the nestling tweets helplessly. "
       
    bulk = 1
    
    <strong>listenDesc = "The nestling sounds scared and in need of assistance. "</strong>
;
</pre></div>

<p>Now all should be well. If you recompile the game and try to listen to the bird you should now see a more appropriate response. Incidentally, you should get precisely the same response if you just enter the command LISTEN in the presence of the bird, since this displays the listenDescs (if not nil) of all the audible items in scope (on the assumption that the player wants a report of all the sounds in the vicinity). That's why we defined listenDesc as "The nestling sounds scared and in need of assistance" rather than "It sounds scared and in need of assistance", since the latter wouldn't make so much sense if the player had just typed LISTEN.</p>

<p>Alternatively, if you didn't want the bird's tweeting to be reported in response to a bare LISTEN command, you could define <span class="code">isProminentNoise = nil</span> on the bird.</p>

<p>You can deal with SMELL, FEEL and TASTE in exactly the same way, by defining <span class="code">smellDesc</span>, <span class="code">feelDesc</span> and/or <span class="code">tasteDesc</span> on the appropriate objects. <span class="code">smellDesc</span> works just like <span class="code">listenDesc</span>, in that a bare SMELL command will report the smellDescs of everything in the vicinity that has one (provided its isProminentSmell property is true). This doesn't happen with <span class="code">feelDesc</span> and <span class="code">tasteDesc</span> however, since the intransitive commands FEEL and TASTE wouldn't make much sense. </p>



</div>
<hr class="navb"><div class="navb">
<i>adv3Lite Library Tutorial</i><br>
<a class="nav" href="toc.htm">Table of Contents</a> | 
<a class="nav" href="revisit.htm">Heidi Revisited</a> &gt; 
Listening to the Bird
<br><span class="navnp"><a class="nav" href="revisit.htm"><i>Prev:</i> Heidi Revisited</a> &nbsp;&nbsp;&nbsp; <a class="nav" href="cottage.htm"><i>Next:</i> Entering the Cottage</a> &nbsp;&nbsp;&nbsp; </span>

</div>
</body>
</html>